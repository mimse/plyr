{"version":3,"sources":["utils/is.js","utils/events.js","utils/elements.js","utils/animation.js","utils/browser.js","support.js","html5.js","utils/objects.js","utils/strings.js","i18n.js","utils/arrays.js","storage.js","utils/fetch.js","utils/loadSprite.js","utils/time.js","controls.js","utils/urls.js","captions.js","config/defaults.js","config/types.js","console.js","fullscreen.js","utils/loadImage.js","ui.js","listeners.js","../../node_modules/loadjs/dist/loadjs.umd.js","utils/loadScript.js","plugins/vimeo.js","plugins/youtube.js","media.js","plugins/ads.js","source.js","plyr.js"],"names":["getConstructor","input","constructor","instanceOf","Boolean","isNullOrUndefined","isObject","Object","isNumber","Number","isNaN","isString","String","isBoolean","isFunction","Function","isArray","Array","isWeakMap","WeakMap","isNodeList","NodeList","isElement","Element","isTextNode","Text","isEvent","Event","isCue","window","TextTrackCue","VTTCue","isTrack","TextTrack","kind","isEmpty","length","keys","isUrl","URL","string","startsWith","hostname","e","supportsPassiveListeners","supported","options","defineProperty","addEventListener","removeEventListener","toggleListener","element","event","callback","toggle","passive","capture","is","empty","function","events","split","forEach","eventListeners","push","type","on","call","off","once","onceCallback","args","apply","triggerEvent","bubbles","detail","CustomEvent","assign","dispatchEvent","unbindListeners","item","ready","Promise","setTimeout","resolve","elements","container","then","wrap","wrapper","targets","from","reverse","index","child","cloneNode","parent","parentNode","sibling","nextSibling","appendChild","insertBefore","setAttributes","attributes","entries","filter","value","nullOrUndefined","key","setAttribute","createElement","text","document","object","innerText","insertAfter","target","insertElement","removeElement","nodeList","array","removeChild","emptyElement","childNodes","lastChild","replaceElement","newChild","oldChild","replaceChild","getAttributesFromSelector","sel","existingAttributes","existing","selector","s","trim","className","replace","stripped","parts","start","charAt","class","id","toggleHidden","hidden","hide","boolean","hasAttribute","removeAttribute","toggleClass","force","method","classList","contains","hasClass","matches","prototype","match","querySelectorAll","includes","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","getElements","getElement","querySelector","getFocusElement","focused","activeElement","body","trapFocus","focusable","first","last","trap","keyCode","shiftKey","focus","preventDefault","transitionEndEvent","find","style","undefined","repaint","offsetHeight","browser","documentMode","documentElement","test","navigator","userAgent","platform","defaultCodecs","support","provider","playsinline","canPlayInline","isIPhone","api","ui","rangeInput","webkitSetPresentationMode","WebKitPlaybackTargetAvailabilityEvent","inputType","mediaType","isHTML5","media","canPlayType","err","range","matchMedia","html5","sources","mime","source","getAttribute","getSources","map","player","currentTime","paused","preload","readyState","src","play","load","config","blankVideo","debug","log","cloneDeep","JSON","parse","stringify","getDeep","path","reduce","obj","extend","shift","generateId","prefix","Math","floor","random","format","toString","i","getPercentage","current","max","toFixed","replaceAll","RegExp","toTitleCase","toUpperCase","substr","toLowerCase","toPascalCase","toCamelCase","slice","stripHTML","fragment","createDocumentFragment","innerHTML","firstChild","getHTML","i18n","seekTime","title","dedupe","indexOf","closest","prev","curr","abs","Storage","enabled","storage","store","localStorage","getItem","json","get","setItem","removeItem","fetch","url","responseType","reject","request","XMLHttpRequest","responseText","response","Error","status","open","send","loadSprite","hasId","isCached","exists","getElementById","update","data","insertAdjacentElement","useStorage","cached","content","result","catch","getHours","parseInt","getMinutes","getSeconds","formatTime","time","displayHours","inverted","number","hours","mins","secs","controls","iconUrl","location","cors","host","isIE","svg4everybody","selectors","buttons","pause","restart","rewind","fastForward","mute","pip","airplay","settings","captions","fullscreen","progress","inputs","seek","volume","display","buffer","duration","seekTooltip","classNames","tooltip","error","warn","toggleNativeControls","namespace","getIconUrl","iconPath","iconPrefix","icon","createElementNS","use","setAttributeNS","attr","universals","join","badge","menu","buttonType","button","label","labelPressed","iconPressed","control","createIcon","createLabel","createHiddenLabel","controlPressed","pressed","updateRangeFill","suffixKey","suffix","list","checked","radio","faux","insertAdjacentHTML","forceHours","setRange","muted","setProgress","getElementsByTagName","nodeValue","buffered","percent","isWebkit","setProperty","tooltips","clientRect","getBoundingClientRect","visible","touch","width","pageX","left","parseFloat","updateTimeDisplay","invert","invertTime","seeking","updateProgress","hasDuration","displayDuration","updateSeekTooltip","setting","tabs","panes","quality","toggleTab","checkMenu","getBadge","createBadge","sort","a","b","sorting","createMenuItem","getLabel","updateSetting","pane","currentTrack","default","tracks","getTracks","track","toggled","language","unshift","bind","speed","isVimeo","values","some","tab","form","show","isMenuItem","isButton","stopPropagation","clone","position","opacity","name","scrollWidth","height","scrollHeight","isTab","transitions","reducedMotion","size","getTabSize","restore","propertyName","createButton","createRange","createProgress","createTime","inner","home","back","setQualityMenu","getQualityOptions","setSpeedMenu","props","create","findElements","labels","parseUrl","safe","parser","href","buildUrlParams","params","URLSearchParams","set","isVideo","isYouTube","textTracks","setCaptionsMenu","protocol","createObjectURL","blob","languages","userLanguage","active","trackEvents","meta","currentTrackNode","languageExists","mode","updateCues","setLanguage","activeClass","findTrack","embed","enableTextTrack","has","sortIsDefault","sorted","every","getCurrentTrack","cues","activeCues","cue","getCueAsHTML","cueText","changed","caption","defaults","providers","types","getProviderByUrl","youtube","vimeo","noop","Console","console","onChange","isIos","toggleFallback","scrollPosition","scrollX","scrollY","scrollTo","x","y","overflow","fallback","Fullscreen","property","native","iosNative","playing","webkitEnterFullscreen","requestFullscreen","webkitExitFullscreen","cancelFullScreen","exitFullscreen","action","enter","exit","fullscreenElement","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","prefixes","pre","loadImage","minWidth","image","Image","handler","onload","onerror","naturalWidth","uiSupported","listeners","inject","setup","loop","updateVolume","timeUpdate","checkPlaying","isTouch","setTitle","poster","setPoster","durationUpdate","isEmbed","iframe","enable","posterEnabled","togglePoster","stopped","toggleControls","loading","timers","hideControls","hover","Listeners","lastKey","handleKey","toggleMenu","firstTouch","code","which","repeat","altKey","ctrlKey","metaKey","seekByKey","editable","togglePlay","increaseVolume","decreaseVolume","forward","toggleCaptions","keyboard","global","tabFocus","delay","hasAudio","resetOnEnd","checkLoading","ads","initialized","managerPromise","clickToPlay","isAudio","video","ended","disableContextMenu","proxyEvents","concat","inputEvent","proxy","defaultHandler","customHandlerKey","customHandler","hasCustomHandler","returned","showHomeTab","showTab","currentTarget","eventType","done","seekTo","toggleInvert","noTransition","webkitDirectionInvertedFromDevice","deltaX","deltaY","direction","sign","define","this","loadScript","parseId","regex","$2","getAspectRatio","getRatio","w","h","ratio","assurePlaybackState","hasPlayed","setAspectRatio","Vimeo","urls","sdk","padding","paddingBottom","offset","transform","autoplay","embedContainer","thumbnail_large","pathname","Player","autopause","disableTextTrack","stop","restorePause","setVolume","setCurrentTime","selected","setPlaybackRate","setLoop","currentSrc","getVideoUrl","all","getVideoWidth","getVideoHeight","dimensions","setAutopause","state","getVideoTitle","getCurrentTime","getDuration","getTextTracks","strippedCues","getPaused","frame","seconds","build","mapQualityUnit","qualities","entry","mapQualityUnits","levels","level","YT","onYouTubeReadyCallbacks","onYouTubeIframeAPIReady","videoId","getVideoData","google","items","snippet","currentId","posterSrc","backgroundSize","message","instance","playbackRate","getPlaybackRate","getTitle","playVideo","pauseVideo","stopVideo","getPlaybackQuality","setPlaybackQuality","getAvailablePlaybackRates","buffering","setInterval","getVideoLoadedFraction","lastBuffered","seeked","getAvailableQualityLevels","unMute","Ads","publisherId","manager","loader","cuePoints","safetyTimer","countdownTimer","ima","googleIMA","trigger","startSafetyTimer","clearSafetyTimer","setupIMA","setVpaidMode","ImaSdkSettings","VpaidMode","ENABLED","setLocale","displayContainer","AdDisplayContainer","requestAds","AdsLoader","AdsManagerLoadedEvent","Type","ADS_MANAGER_LOADED","onAdsManagerLoaded","AdErrorEvent","AD_ERROR","onAdError","AdsRequest","adTagUrl","tagUrl","linearAdSlotWidth","offsetWidth","linearAdSlotHeight","nonLinearAdSlotWidth","nonLinearAdSlotHeight","forceNonLinearFullSlot","setAdWillPlayMuted","getRemainingTime","AdsRenderingSettings","restoreCustomPlaybackStateOnAdBreakComplete","enablePreloading","getAdsManager","getCuePoints","cuePoint","seekElement","cuePercentage","AdEvent","onAdEvent","ad","getAd","LOADED","pollCountdown","isLinear","ALL_ADS_COMPLETED","loadAds","CONTENT_PAUSE_REQUESTED","pauseContent","CONTENT_RESUME_REQUESTED","resumeContent","STARTED","MIDPOINT","COMPLETE","IMPRESSION","CLICK","cancel","contentComplete","seekedTime","discardAdBreak","splice","resize","ViewMode","NORMAL","initialize","init","adError","zIndex","destroy","handlers","Date","now","base","attribute","cancelRequests","tagName","check","crossorigin","addStyleHook","insertElements","Plyr","failed","jQuery","plyr","original","searchParams","truthy","step","webkitShowPlaybackTargetPicker","isHidden","hiding","eventName","soft","unload","audio","inputIsValid","min","end","fauxDuration","mozHasAudio","webkitAudioDecodedByteCount","audioTracks","change","states","inline","webkitPresentationMode","t"],"mappings":"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","file":"plyr.js","sourcesContent":["// ==========================================================================\n// Type checking utils\n// ==========================================================================\n\nconst getConstructor = input => (input !== null && typeof input !== 'undefined' ? input.constructor : null);\nconst instanceOf = (input, constructor) => Boolean(input && constructor && input instanceof constructor);\nconst isNullOrUndefined = input => input === null || typeof input === 'undefined';\nconst isObject = input => getConstructor(input) === Object;\nconst isNumber = input => getConstructor(input) === Number && !Number.isNaN(input);\nconst isString = input => getConstructor(input) === String;\nconst isBoolean = input => getConstructor(input) === Boolean;\nconst isFunction = input => getConstructor(input) === Function;\nconst isArray = input => Array.isArray(input);\nconst isWeakMap = input => instanceOf(input, WeakMap);\nconst isNodeList = input => instanceOf(input, NodeList);\nconst isElement = input => instanceOf(input, Element);\nconst isTextNode = input => getConstructor(input) === Text;\nconst isEvent = input => instanceOf(input, Event);\nconst isCue = input => instanceOf(input, window.TextTrackCue) || instanceOf(input, window.VTTCue);\nconst isTrack = input => instanceOf(input, TextTrack) || (!isNullOrUndefined(input) && isString(input.kind));\n\nconst isEmpty = input =>\n    isNullOrUndefined(input) ||\n    ((isString(input) || isArray(input) || isNodeList(input)) && !input.length) ||\n    (isObject(input) && !Object.keys(input).length);\n\nconst isUrl = input => {\n    // Accept a URL object\n    if (instanceOf(input, window.URL)) {\n        return true;\n    }\n\n    // Add the protocol if required\n    let string = input;\n    if (!input.startsWith('http://') || !input.startsWith('https://')) {\n        string = `http://${input}`;\n    }\n\n    try {\n        return !isEmpty(new URL(string).hostname);\n    } catch (e) {\n        return false;\n    }\n};\n\nexport default {\n    nullOrUndefined: isNullOrUndefined,\n    object: isObject,\n    number: isNumber,\n    string: isString,\n    boolean: isBoolean,\n    function: isFunction,\n    array: isArray,\n    weakMap: isWeakMap,\n    nodeList: isNodeList,\n    element: isElement,\n    textNode: isTextNode,\n    event: isEvent,\n    cue: isCue,\n    track: isTrack,\n    url: isUrl,\n    empty: isEmpty,\n};\n","// ==========================================================================\n// Event utils\n// ==========================================================================\n\nimport is from './is';\n\n// Check for passive event listener support\n// https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n// https://www.youtube.com/watch?v=NPM6172J22g\nconst supportsPassiveListeners = (() => {\n    // Test via a getter in the options object to see if the passive property is accessed\n    let supported = false;\n    try {\n        const options = Object.defineProperty({}, 'passive', {\n            get() {\n                supported = true;\n                return null;\n            },\n        });\n        window.addEventListener('test', null, options);\n        window.removeEventListener('test', null, options);\n    } catch (e) {\n        // Do nothing\n    }\n\n    return supported;\n})();\n\n// Toggle event listener\nexport function toggleListener(element, event, callback, toggle = false, passive = true, capture = false) {\n    // Bail if no element, event, or callback\n    if (!element || !('addEventListener' in element) || is.empty(event) || !is.function(callback)) {\n        return;\n    }\n\n    // Allow multiple events\n    const events = event.split(' ');\n\n    // Build options\n    // Default to just the capture boolean for browsers with no passive listener support\n    let options = capture;\n\n    // If passive events listeners are supported\n    if (supportsPassiveListeners) {\n        options = {\n            // Whether the listener can be passive (i.e. default never prevented)\n            passive,\n            // Whether the listener is a capturing listener or not\n            capture,\n        };\n    }\n\n    // If a single node is passed, bind the event listener\n    events.forEach(type => {\n        if (this && this.eventListeners && toggle) {\n            // Cache event listener\n            this.eventListeners.push({ element, type, callback, options });\n        }\n\n        element[toggle ? 'addEventListener' : 'removeEventListener'](type, callback, options);\n    });\n}\n\n// Bind event handler\nexport function on(element, events = '', callback, passive = true, capture = false) {\n    toggleListener.call(this, element, events, callback, true, passive, capture);\n}\n\n// Unbind event handler\nexport function off(element, events = '', callback, passive = true, capture = false) {\n    toggleListener.call(this, element, events, callback, false, passive, capture);\n}\n\n// Bind once-only event handler\nexport function once(element, events = '', callback, passive = true, capture = false) {\n    function onceCallback(...args) {\n        off(element, events, onceCallback, passive, capture);\n        callback.apply(this, args);\n    }\n\n    toggleListener.call(this, element, events, onceCallback, true, passive, capture);\n}\n\n// Trigger event\nexport function triggerEvent(element, type = '', bubbles = false, detail = {}) {\n    // Bail if no element\n    if (!is.element(element) || is.empty(type)) {\n        return;\n    }\n\n    // Create and dispatch the event\n    const event = new CustomEvent(type, {\n        bubbles,\n        detail: Object.assign({}, detail, {\n            plyr: this,\n        }),\n    });\n\n    // Dispatch the event\n    element.dispatchEvent(event);\n}\n\n// Unbind all cached event listeners\nexport function unbindListeners() {\n    if (this && this.eventListeners) {\n        this.eventListeners.forEach(item => {\n            const { element, type, callback, options } = item;\n            element.removeEventListener(type, callback, options);\n        });\n\n        this.eventListeners = [];\n    }\n}\n\n// Run method when / if player is ready\nexport function ready() {\n    return new Promise(\n        resolve => (this.ready ? setTimeout(resolve, 0) : on.call(this, this.elements.container, 'ready', resolve)),\n    ).then(() => {});\n}\n","// ==========================================================================\n// Element utils\n// ==========================================================================\n\nimport { toggleListener } from './events';\nimport is from './is';\n\n// Wrap an element\nexport function wrap(elements, wrapper) {\n    // Convert `elements` to an array, if necessary.\n    const targets = elements.length ? elements : [elements];\n\n    // Loops backwards to prevent having to clone the wrapper on the\n    // first element (see `child` below).\n    Array.from(targets)\n        .reverse()\n        .forEach((element, index) => {\n            const child = index > 0 ? wrapper.cloneNode(true) : wrapper;\n\n            // Cache the current parent and sibling.\n            const parent = element.parentNode;\n            const sibling = element.nextSibling;\n\n            // Wrap the element (is automatically removed from its current\n            // parent).\n            child.appendChild(element);\n\n            // If the element had a sibling, insert the wrapper before\n            // the sibling to maintain the HTML structure; otherwise, just\n            // append it to the parent.\n            if (sibling) {\n                parent.insertBefore(child, sibling);\n            } else {\n                parent.appendChild(child);\n            }\n        });\n}\n\n// Set attributes\nexport function setAttributes(element, attributes) {\n    if (!is.element(element) || is.empty(attributes)) {\n        return;\n    }\n\n    // Assume null and undefined attributes should be left out,\n    // Setting them would otherwise convert them to \"null\" and \"undefined\"\n    Object.entries(attributes)\n        .filter(([, value]) => !is.nullOrUndefined(value))\n        .forEach(([key, value]) => element.setAttribute(key, value));\n}\n\n// Create a DocumentFragment\nexport function createElement(type, attributes, text) {\n    // Create a new <element>\n    const element = document.createElement(type);\n\n    // Set all passed attributes\n    if (is.object(attributes)) {\n        setAttributes(element, attributes);\n    }\n\n    // Add text node\n    if (is.string(text)) {\n        element.innerText = text;\n    }\n\n    // Return built element\n    return element;\n}\n\n// Inaert an element after another\nexport function insertAfter(element, target) {\n    target.parentNode.insertBefore(element, target.nextSibling);\n}\n\n// Insert a DocumentFragment\nexport function insertElement(type, parent, attributes, text) {\n    // Inject the new <element>\n    parent.appendChild(createElement(type, attributes, text));\n}\n\n// Remove element(s)\nexport function removeElement(element) {\n    if (is.nodeList(element) || is.array(element)) {\n        Array.from(element).forEach(removeElement);\n        return;\n    }\n\n    if (!is.element(element) || !is.element(element.parentNode)) {\n        return;\n    }\n\n    element.parentNode.removeChild(element);\n}\n\n// Remove all child elements\nexport function emptyElement(element) {\n    let { length } = element.childNodes;\n\n    while (length > 0) {\n        element.removeChild(element.lastChild);\n        length -= 1;\n    }\n}\n\n// Replace element\nexport function replaceElement(newChild, oldChild) {\n    if (!is.element(oldChild) || !is.element(oldChild.parentNode) || !is.element(newChild)) {\n        return null;\n    }\n\n    oldChild.parentNode.replaceChild(newChild, oldChild);\n\n    return newChild;\n}\n\n// Get an attribute object from a string selector\nexport function getAttributesFromSelector(sel, existingAttributes) {\n    // For example:\n    // '.test' to { class: 'test' }\n    // '#test' to { id: 'test' }\n    // '[data-test=\"test\"]' to { 'data-test': 'test' }\n\n    if (!is.string(sel) || is.empty(sel)) {\n        return {};\n    }\n\n    const attributes = {};\n    const existing = existingAttributes;\n\n    sel.split(',').forEach(s => {\n        // Remove whitespace\n        const selector = s.trim();\n        const className = selector.replace('.', '');\n        const stripped = selector.replace(/[[\\]]/g, '');\n\n        // Get the parts and value\n        const parts = stripped.split('=');\n        const key = parts[0];\n        const value = parts.length > 1 ? parts[1].replace(/[\"']/g, '') : '';\n\n        // Get the first character\n        const start = selector.charAt(0);\n\n        switch (start) {\n            case '.':\n                // Add to existing classname\n                if (is.object(existing) && is.string(existing.class)) {\n                    existing.class += ` ${className}`;\n                }\n\n                attributes.class = className;\n                break;\n\n            case '#':\n                // ID selector\n                attributes.id = selector.replace('#', '');\n                break;\n\n            case '[':\n                // Attribute selector\n                attributes[key] = value;\n\n                break;\n\n            default:\n                break;\n        }\n    });\n\n    return attributes;\n}\n\n// Toggle hidden\nexport function toggleHidden(element, hidden) {\n    if (!is.element(element)) {\n        return;\n    }\n\n    let hide = hidden;\n\n    if (!is.boolean(hide)) {\n        hide = !element.hasAttribute('hidden');\n    }\n\n    if (hide) {\n        element.setAttribute('hidden', '');\n    } else {\n        element.removeAttribute('hidden');\n    }\n}\n\n// Mirror Element.classList.toggle, with IE compatibility for \"force\" argument\nexport function toggleClass(element, className, force) {\n    if (is.element(element)) {\n        let method = 'toggle';\n        if (typeof force !== 'undefined') {\n            method = force ? 'add' : 'remove';\n        }\n\n        element.classList[method](className);\n        return element.classList.contains(className);\n    }\n\n    return null;\n}\n\n// Has class name\nexport function hasClass(element, className) {\n    return is.element(element) && element.classList.contains(className);\n}\n\n// Element matches selector\nexport function matches(element, selector) {\n    const prototype = { Element };\n\n    function match() {\n        return Array.from(document.querySelectorAll(selector)).includes(this);\n    }\n\n    const matches =\n        prototype.matches ||\n        prototype.webkitMatchesSelector ||\n        prototype.mozMatchesSelector ||\n        prototype.msMatchesSelector ||\n        match;\n\n    return matches.call(element, selector);\n}\n\n// Find all elements\nexport function getElements(selector) {\n    return this.elements.container.querySelectorAll(selector);\n}\n\n// Find a single element\nexport function getElement(selector) {\n    return this.elements.container.querySelector(selector);\n}\n\n// Get the focused element\nexport function getFocusElement() {\n    let focused = document.activeElement;\n\n    if (!focused || focused === document.body) {\n        focused = null;\n    } else {\n        focused = document.querySelector(':focus');\n    }\n\n    return focused;\n}\n\n// Trap focus inside container\nexport function trapFocus(element = null, toggle = false) {\n    if (!is.element(element)) {\n        return;\n    }\n\n    const focusable = getElements.call(this, 'button:not(:disabled), input:not(:disabled), [tabindex]');\n    const first = focusable[0];\n    const last = focusable[focusable.length - 1];\n\n    const trap = event => {\n        // Bail if not tab key or not fullscreen\n        if (event.key !== 'Tab' || event.keyCode !== 9) {\n            return;\n        }\n\n        // Get the current focused element\n        const focused = getFocusElement();\n\n        if (focused === last && !event.shiftKey) {\n            // Move focus to first element that can be tabbed if Shift isn't used\n            first.focus();\n            event.preventDefault();\n        } else if (focused === first && event.shiftKey) {\n            // Move focus to last element that can be tabbed if Shift is used\n            last.focus();\n            event.preventDefault();\n        }\n    };\n\n    toggleListener.call(this, this.elements.container, 'keydown', trap, toggle, false);\n}\n","// ==========================================================================\n// Animation utils\n// ==========================================================================\n\nimport { toggleHidden } from './elements';\nimport is from './is';\n\nexport const transitionEndEvent = (() => {\n    const element = document.createElement('span');\n\n    const events = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend',\n    };\n\n    const type = Object.keys(events).find(event => element.style[event] !== undefined);\n\n    return is.string(type) ? events[type] : false;\n})();\n\n// Force repaint of element\nexport function repaint(element) {\n    setTimeout(() => {\n        toggleHidden(element, true);\n        element.offsetHeight; // eslint-disable-line\n        toggleHidden(element, false);\n    }, 0);\n}\n","// ==========================================================================\n// Browser sniffing\n// Unfortunately, due to mixed support, UA sniffing is required\n// ==========================================================================\n\nconst browser = {\n    isIE: /* @cc_on!@ */ false || !!document.documentMode,\n    isWebkit: 'WebkitAppearance' in document.documentElement.style && !/Edge/.test(navigator.userAgent),\n    isIPhone: /(iPhone|iPod)/gi.test(navigator.platform),\n    isIos: /(iPad|iPhone|iPod)/gi.test(navigator.platform),\n};\n\nexport default browser;\n","// ==========================================================================\n// Plyr support checks\n// ==========================================================================\n\nimport { transitionEndEvent } from './utils/animation';\nimport browser from './utils/browser';\nimport { createElement } from './utils/elements';\nimport is from './utils/is';\n\n// Default codecs for checking mimetype support\nconst defaultCodecs = {\n    'audio/ogg': 'vorbis',\n    'audio/wav': '1',\n    'video/webm': 'vp8, vorbis',\n    'video/mp4': 'avc1.42E01E, mp4a.40.2',\n    'video/ogg': 'theora',\n};\n\n// Check for feature support\nconst support = {\n    // Basic support\n    audio: 'canPlayType' in document.createElement('audio'),\n    video: 'canPlayType' in document.createElement('video'),\n\n    // Check for support\n    // Basic functionality vs full UI\n    check(type, provider, playsinline) {\n        const canPlayInline = browser.isIPhone && playsinline && support.playsinline;\n        const api = support[type] || provider !== 'html5';\n        const ui = api && support.rangeInput && (type !== 'video' || !browser.isIPhone || canPlayInline);\n\n        return {\n            api,\n            ui,\n        };\n    },\n\n    // Picture-in-picture support\n    // Safari only currently\n    pip: (() => !browser.isIPhone && is.function(createElement('video').webkitSetPresentationMode))(),\n\n    // Airplay support\n    // Safari only currently\n    airplay: is.function(window.WebKitPlaybackTargetAvailabilityEvent),\n\n    // Inline playback support\n    // https://webkit.org/blog/6784/new-video-policies-for-ios/\n    playsinline: 'playsInline' in document.createElement('video'),\n\n    // Check for mime type support against a player instance\n    // Credits: http://diveintohtml5.info/everything.html\n    // Related: http://www.leanbackplayer.com/test/h5mt.html\n    mime(inputType) {\n        const [mediaType] = inputType.split('/');\n        if (!this.isHTML5 || mediaType !== this.type) {\n            return false;\n        }\n\n        let type;\n        if (inputType && inputType.includes('codecs=')) {\n            // Use input directly\n            type = inputType;\n        } else if (inputType === 'audio/mpeg') {\n            // Skip codec\n            type = 'audio/mpeg;';\n        } else if (inputType in defaultCodecs) {\n            // Use codec\n            type = `${inputType}; codecs=\"${defaultCodecs[inputType]}\"`;\n        }\n\n        try {\n            return Boolean(type && this.media.canPlayType(type).replace(/no/, ''));\n        } catch (err) {\n            return false;\n        }\n    },\n\n    // Check for textTracks support\n    textTracks: 'textTracks' in document.createElement('video'),\n\n    // <input type=\"range\"> Sliders\n    rangeInput: (() => {\n        const range = document.createElement('input');\n        range.type = 'range';\n        return range.type === 'range';\n    })(),\n\n    // Touch\n    // NOTE: Remember a device can be mouse + touch enabled so we check on first touch event\n    touch: 'ontouchstart' in document.documentElement,\n\n    // Detect transitions support\n    transitions: transitionEndEvent !== false,\n\n    // Reduced motion iOS & MacOS setting\n    // https://webkit.org/blog/7551/responsive-design-for-motion/\n    reducedMotion: 'matchMedia' in window && window.matchMedia('(prefers-reduced-motion)').matches,\n};\n\nexport default support;\n","// ==========================================================================\n// Plyr HTML5 helpers\n// ==========================================================================\n\nimport support from './support';\nimport { removeElement } from './utils/elements';\nimport { triggerEvent } from './utils/events';\n\nconst html5 = {\n    getSources() {\n        if (!this.isHTML5) {\n            return [];\n        }\n\n        const sources = Array.from(this.media.querySelectorAll('source'));\n\n        // Filter out unsupported sources\n        return sources.filter(source => support.mime.call(this, source.getAttribute('type')));\n    },\n\n    // Get quality levels\n    getQualityOptions() {\n        // Get sizes from <source> elements\n        return html5.getSources\n            .call(this)\n            .map(source => Number(source.getAttribute('size')))\n            .filter(Boolean);\n    },\n\n    extend() {\n        if (!this.isHTML5) {\n            return;\n        }\n\n        const player = this;\n\n        // Quality\n        Object.defineProperty(player.media, 'quality', {\n            get() {\n                // Get sources\n                const sources = html5.getSources.call(player);\n                const source = sources.find(source => source.getAttribute('src') === player.source);\n\n                // Return size, if match is found\n                return source && Number(source.getAttribute('size'));\n            },\n            set(input) {\n                // Get sources\n                const sources = html5.getSources.call(player);\n\n                // Get first match for requested size\n                const source = sources.find(source => Number(source.getAttribute('size')) === input);\n\n                // No matching source found\n                if (!source) {\n                    return;\n                }\n\n                // Get current state\n                const { currentTime, paused, preload, readyState } = player.media;\n\n                // Set new source\n                player.media.src = source.getAttribute('src');\n\n                // Prevent loading if preload=\"none\" and the current source isn't loaded (#1044)\n                if (preload !== 'none' || readyState) {\n                    // Restore time\n                    player.once('loadedmetadata', () => {\n                        player.currentTime = currentTime;\n\n                        // Resume playing\n                        if (!paused) {\n                            player.play();\n                        }\n                    });\n\n                    // Load new source\n                    player.media.load();\n                }\n\n                // Trigger change event\n                triggerEvent.call(player, player.media, 'qualitychange', false, {\n                    quality: input,\n                });\n            },\n        });\n    },\n\n    // Cancel current network requests\n    // See https://github.com/sampotts/plyr/issues/174\n    cancelRequests() {\n        if (!this.isHTML5) {\n            return;\n        }\n\n        // Remove child sources\n        removeElement(html5.getSources.call(this));\n\n        // Set blank video src attribute\n        // This is to prevent a MEDIA_ERR_SRC_NOT_SUPPORTED error\n        // Info: http://stackoverflow.com/questions/32231579/how-to-properly-dispose-of-an-html5-video-and-close-socket-or-connection\n        this.media.setAttribute('src', this.config.blankVideo);\n\n        // Load the new empty source\n        // This will cancel existing requests\n        // See https://github.com/sampotts/plyr/issues/174\n        this.media.load();\n\n        // Debugging\n        this.debug.log('Cancelled network requests');\n    },\n};\n\nexport default html5;\n","// ==========================================================================\n// Object utils\n// ==========================================================================\n\nimport is from './is';\n\n// Clone nested objects\nexport function cloneDeep(object) {\n    return JSON.parse(JSON.stringify(object));\n}\n\n// Get a nested value in an object\nexport function getDeep(object, path) {\n    return path.split('.').reduce((obj, key) => obj && obj[key], object);\n}\n\n// Deep extend destination object with N more objects\nexport function extend(target = {}, ...sources) {\n    if (!sources.length) {\n        return target;\n    }\n\n    const source = sources.shift();\n\n    if (!is.object(source)) {\n        return target;\n    }\n\n    Object.keys(source).forEach(key => {\n        if (is.object(source[key])) {\n            if (!Object.keys(target).includes(key)) {\n                Object.assign(target, { [key]: {} });\n            }\n\n            extend(target[key], source[key]);\n        } else {\n            Object.assign(target, { [key]: source[key] });\n        }\n    });\n\n    return extend(target, ...sources);\n}\n","// ==========================================================================\n// String utils\n// ==========================================================================\n\nimport is from './is';\n\n// Generate a random ID\nexport function generateId(prefix) {\n    return `${prefix}-${Math.floor(Math.random() * 10000)}`;\n}\n\n// Format string\nexport function format(input, ...args) {\n    if (is.empty(input)) {\n        return input;\n    }\n\n    return input.toString().replace(/{(\\d+)}/g, (match, i) => args[i].toString());\n}\n\n// Get percentage\nexport function getPercentage(current, max) {\n    if (current === 0 || max === 0 || Number.isNaN(current) || Number.isNaN(max)) {\n        return 0;\n    }\n\n    return (current / max * 100).toFixed(2);\n}\n\n// Replace all occurances of a string in a string\nexport function replaceAll(input = '', find = '', replace = '') {\n    return input.replace(\n        new RegExp(find.toString().replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1'), 'g'),\n        replace.toString(),\n    );\n}\n\n// Convert to title case\nexport function toTitleCase(input = '') {\n    return input.toString().replace(/\\w\\S*/g, text => text.charAt(0).toUpperCase() + text.substr(1).toLowerCase());\n}\n\n// Convert string to pascalCase\nexport function toPascalCase(input = '') {\n    let string = input.toString();\n\n    // Convert kebab case\n    string = replaceAll(string, '-', ' ');\n\n    // Convert snake case\n    string = replaceAll(string, '_', ' ');\n\n    // Convert to title case\n    string = toTitleCase(string);\n\n    // Convert to pascal case\n    return replaceAll(string, ' ', '');\n}\n\n// Convert string to pascalCase\nexport function toCamelCase(input = '') {\n    let string = input.toString();\n\n    // Convert to pascal case\n    string = toPascalCase(string);\n\n    // Convert first character to lowercase\n    return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\n// Remove HTML from a string\nexport function stripHTML(source) {\n    const fragment = document.createDocumentFragment();\n    const element = document.createElement('div');\n    fragment.appendChild(element);\n    element.innerHTML = source;\n    return fragment.firstChild.innerText;\n}\n\n// Like outerHTML, but also works for DocumentFragment\nexport function getHTML(element) {\n    const wrapper = document.createElement('div');\n    wrapper.appendChild(element);\n    return wrapper.innerHTML;\n}\n","// ==========================================================================\n// Plyr internationalization\n// ==========================================================================\n\nimport is from './utils/is';\nimport { getDeep } from './utils/objects';\nimport { replaceAll } from './utils/strings';\n\nconst i18n = {\n    get(key = '', config = {}) {\n        if (is.empty(key) || is.empty(config)) {\n            return '';\n        }\n\n        let string = getDeep(config.i18n, key);\n\n        if (is.empty(string)) {\n            return '';\n        }\n\n        const replace = {\n            '{seektime}': config.seekTime,\n            '{title}': config.title,\n        };\n\n        Object.entries(replace).forEach(([key, value]) => {\n            string = replaceAll(string, key, value);\n        });\n\n        return string;\n    },\n};\n\nexport default i18n;\n","// ==========================================================================\n// Array utils\n// ==========================================================================\n\nimport is from './is';\n\n// Remove duplicates in an array\nexport function dedupe(array) {\n    if (!is.array(array)) {\n        return array;\n    }\n\n    return array.filter((item, index) => array.indexOf(item) === index);\n}\n\n// Get the closest value in an array\nexport function closest(array, value) {\n    if (!is.array(array) || !array.length) {\n        return null;\n    }\n\n    return array.reduce((prev, curr) => (Math.abs(curr - value) < Math.abs(prev - value) ? curr : prev));\n}\n","// ==========================================================================\n// Plyr storage\n// ==========================================================================\n\nimport is from './utils/is';\nimport { extend } from './utils/objects';\n\nclass Storage {\n    constructor(player) {\n        this.enabled = player.config.storage.enabled;\n        this.key = player.config.storage.key;\n    }\n\n    // Check for actual support (see if we can use it)\n    static get supported() {\n        try {\n            if (!('localStorage' in window)) {\n                return false;\n            }\n\n            const test = '___test';\n\n            // Try to use it (it might be disabled, e.g. user is in private mode)\n            // see: https://github.com/sampotts/plyr/issues/131\n            window.localStorage.setItem(test, test);\n            window.localStorage.removeItem(test);\n\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    get(key) {\n        if (!Storage.supported || !this.enabled) {\n            return null;\n        }\n\n        const store = window.localStorage.getItem(this.key);\n\n        if (is.empty(store)) {\n            return null;\n        }\n\n        const json = JSON.parse(store);\n\n        return is.string(key) && key.length ? json[key] : json;\n    }\n\n    set(object) {\n        // Bail if we don't have localStorage support or it's disabled\n        if (!Storage.supported || !this.enabled) {\n            return;\n        }\n\n        // Can only store objectst\n        if (!is.object(object)) {\n            return;\n        }\n\n        // Get current storage\n        let storage = this.get();\n\n        // Default to empty object\n        if (is.empty(storage)) {\n            storage = {};\n        }\n\n        // Update the working copy of the values\n        extend(storage, object);\n\n        // Update storage\n        window.localStorage.setItem(this.key, JSON.stringify(storage));\n    }\n}\n\nexport default Storage;\n","// ==========================================================================\n// Fetch wrapper\n// Using XHR to avoid issues with older browsers\n// ==========================================================================\n\nexport default function fetch(url, responseType = 'text') {\n    return new Promise((resolve, reject) => {\n        try {\n            const request = new XMLHttpRequest();\n\n            // Check for CORS support\n            if (!('withCredentials' in request)) {\n                return;\n            }\n\n            request.addEventListener('load', () => {\n                if (responseType === 'text') {\n                    try {\n                        resolve(JSON.parse(request.responseText));\n                    } catch (e) {\n                        resolve(request.responseText);\n                    }\n                } else {\n                    resolve(request.response);\n                }\n            });\n\n            request.addEventListener('error', () => {\n                throw new Error(request.status);\n            });\n\n            request.open('GET', url, true);\n\n            // Set the required response type\n            request.responseType = responseType;\n\n            request.send();\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\n","// ==========================================================================\n// Sprite loader\n// ==========================================================================\n\nimport Storage from './../storage';\nimport fetch from './fetch';\nimport is from './is';\n\n// Load an external SVG sprite\nexport default function loadSprite(url, id) {\n    if (!is.string(url)) {\n        return;\n    }\n\n    const prefix = 'cache';\n    const hasId = is.string(id);\n    let isCached = false;\n\n    const exists = () => document.getElementById(id) !== null;\n\n    const update = (container, data) => {\n        container.innerHTML = data;\n\n        // Check again incase of race condition\n        if (hasId && exists()) {\n            return;\n        }\n\n        // Inject the SVG to the body\n        document.body.insertAdjacentElement('afterbegin', container);\n    };\n\n    // Only load once if ID set\n    if (!hasId || !exists()) {\n        const useStorage = Storage.supported;\n\n        // Create container\n        const container = document.createElement('div');\n        container.setAttribute('hidden', '');\n\n        if (hasId) {\n            container.setAttribute('id', id);\n        }\n\n        // Check in cache\n        if (useStorage) {\n            const cached = window.localStorage.getItem(`${prefix}-${id}`);\n            isCached = cached !== null;\n\n            if (isCached) {\n                const data = JSON.parse(cached);\n                update(container, data.content);\n            }\n        }\n\n        // Get the sprite\n        fetch(url)\n            .then(result => {\n                if (is.empty(result)) {\n                    return;\n                }\n\n                if (useStorage) {\n                    window.localStorage.setItem(\n                        `${prefix}-${id}`,\n                        JSON.stringify({\n                            content: result,\n                        }),\n                    );\n                }\n\n                update(container, result);\n            })\n            .catch(() => {});\n    }\n}\n","// ==========================================================================\n// Time utils\n// ==========================================================================\n\nimport is from './is';\n\n// Time helpers\nexport const getHours = value => parseInt((value / 60 / 60) % 60, 10);\nexport const getMinutes = value => parseInt((value / 60) % 60, 10);\nexport const getSeconds = value => parseInt(value % 60, 10);\n\n// Format time to UI friendly string\nexport function formatTime(time = 0, displayHours = false, inverted = false) {\n    // Bail if the value isn't a number\n    if (!is.number(time)) {\n        return formatTime(null, displayHours, inverted);\n    }\n\n    // Format time component to add leading zero\n    const format = value => `0${value}`.slice(-2);\n\n    // Breakdown to hours, mins, secs\n    let hours = getHours(time);\n    const mins = getMinutes(time);\n    const secs = getSeconds(time);\n\n    // Do we need to display hours?\n    if (displayHours || hours > 0) {\n        hours = `${hours}:`;\n    } else {\n        hours = '';\n    }\n\n    // Render\n    return `${inverted && time > 0 ? '-' : ''}${hours}${format(mins)}:${format(secs)}`;\n}\n","// ==========================================================================\n// Plyr controls\n// ==========================================================================\n\nimport captions from './captions';\nimport html5 from './html5';\nimport i18n from './i18n';\nimport support from './support';\nimport { repaint, transitionEndEvent } from './utils/animation';\nimport { dedupe } from './utils/arrays';\nimport browser from './utils/browser';\nimport {\n    createElement,\n    emptyElement,\n    getAttributesFromSelector,\n    getElement,\n    getElements,\n    hasClass,\n    removeElement,\n    setAttributes,\n    toggleClass,\n    toggleHidden,\n    matches,\n} from './utils/elements';\nimport { off, on } from './utils/events';\nimport is from './utils/is';\nimport loadSprite from './utils/loadSprite';\nimport { extend } from './utils/objects';\nimport { getPercentage, replaceAll, toCamelCase, toTitleCase } from './utils/strings';\nimport { formatTime, getHours } from './utils/time';\n\n// TODO: Don't export a massive object - break down and create class\nconst controls = {\n    // Get icon URL\n    getIconUrl() {\n        const url = new URL(this.config.iconUrl, window.location);\n        const cors = url.host !== window.location.host || (browser.isIE && !window.svg4everybody);\n\n        return {\n            url: this.config.iconUrl,\n            cors,\n        };\n    },\n\n    // Find the UI controls\n    findElements() {\n        try {\n            this.elements.controls = getElement.call(this, this.config.selectors.controls.wrapper);\n\n            // Buttons\n            this.elements.buttons = {\n                play: getElements.call(this, this.config.selectors.buttons.play),\n                pause: getElement.call(this, this.config.selectors.buttons.pause),\n                restart: getElement.call(this, this.config.selectors.buttons.restart),\n                rewind: getElement.call(this, this.config.selectors.buttons.rewind),\n                fastForward: getElement.call(this, this.config.selectors.buttons.fastForward),\n                mute: getElement.call(this, this.config.selectors.buttons.mute),\n                pip: getElement.call(this, this.config.selectors.buttons.pip),\n                airplay: getElement.call(this, this.config.selectors.buttons.airplay),\n                settings: getElement.call(this, this.config.selectors.buttons.settings),\n                captions: getElement.call(this, this.config.selectors.buttons.captions),\n                fullscreen: getElement.call(this, this.config.selectors.buttons.fullscreen),\n            };\n\n            // Progress\n            this.elements.progress = getElement.call(this, this.config.selectors.progress);\n\n            // Inputs\n            this.elements.inputs = {\n                seek: getElement.call(this, this.config.selectors.inputs.seek),\n                volume: getElement.call(this, this.config.selectors.inputs.volume),\n            };\n\n            // Display\n            this.elements.display = {\n                buffer: getElement.call(this, this.config.selectors.display.buffer),\n                currentTime: getElement.call(this, this.config.selectors.display.currentTime),\n                duration: getElement.call(this, this.config.selectors.display.duration),\n            };\n\n            // Seek tooltip\n            if (is.element(this.elements.progress)) {\n                this.elements.display.seekTooltip = this.elements.progress.querySelector(\n                    `.${this.config.classNames.tooltip}`,\n                );\n            }\n\n            return true;\n        } catch (error) {\n            // Log it\n            this.debug.warn('It looks like there is a problem with your custom controls HTML', error);\n\n            // Restore native video controls\n            this.toggleNativeControls(true);\n\n            return false;\n        }\n    },\n\n    // Create <svg> icon\n    createIcon(type, attributes) {\n        const namespace = 'http://www.w3.org/2000/svg';\n        const iconUrl = controls.getIconUrl.call(this);\n        const iconPath = `${!iconUrl.cors ? iconUrl.url : ''}#${this.config.iconPrefix}`;\n\n        // Create <svg>\n        const icon = document.createElementNS(namespace, 'svg');\n        setAttributes(\n            icon,\n            extend(attributes, {\n                role: 'presentation',\n                focusable: 'false',\n            }),\n        );\n\n        // Create the <use> to reference sprite\n        const use = document.createElementNS(namespace, 'use');\n        const path = `${iconPath}-${type}`;\n\n        // Set `href` attributes\n        // https://github.com/sampotts/plyr/issues/460\n        // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/xlink:href\n        if ('href' in use) {\n            use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n        } else {\n            use.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', path);\n        }\n\n        // Add <use> to <svg>\n        icon.appendChild(use);\n\n        return icon;\n    },\n    createHiddenLabel(type, attr) {\n        // Skip i18n for abbreviations and brand names\n        const universals = {\n            pip: 'PIP',\n            airplay: 'AirPlay',\n        };\n        const text = universals[type] || i18n.get(type, this.config);\n\n        const attributes = Object.assign({}, attr, {\n            class: [attr.class, this.config.classNames.hidden].filter(Boolean).join(' '),\n        });\n        return createElement('span', attributes, text);\n    },\n    createLabel(type, attr) {\n        // Skip i18n for abbreviations and brand names\n        const universals = {\n            pip: 'PIP',\n            airplay: 'AirPlay',\n        };\n        const text = universals[type] || i18n.get(type, this.config);\n        \n        const attributes = Object.assign({}, attr);\n\n        return createElement('span', attributes, text);\n    },\n    // Create a badge\n    createBadge(text) {\n        if (is.empty(text)) {\n            return null;\n        }\n\n        const badge = createElement('span', {\n            class: this.config.classNames.menu.value,\n        });\n\n        badge.appendChild(\n            createElement(\n                'span',\n                {\n                    class: this.config.classNames.menu.badge,\n                },\n                text,\n            ),\n        );\n\n        return badge;\n    },\n\n    // Create a <button>\n    createButton(buttonType, attr) {\n        const button = createElement('button');\n        const attributes = Object.assign({}, attr);\n        let type = toCamelCase(buttonType);\n\n        let toggle = false;\n        let label;\n        let icon;\n        let labelPressed;\n        let iconPressed;\n\n        if (!('type' in attributes)) {\n            attributes.type = 'button';\n        }\n\n        if ('class' in attributes) {\n            if (attributes.class.includes(this.config.classNames.control) === false) {\n                attributes.class += ` ${this.config.classNames.control}`;\n            }\n        } else {\n            attributes.class = this.config.classNames.control;\n        }\n\n        // Large play button\n        switch (buttonType) {\n            case 'play':\n                toggle = true;\n                label = 'play';\n                labelPressed = 'pause';\n                icon = 'play';\n                iconPressed = 'pause';\n                break;\n\n            case 'mute':\n                toggle = true;\n                label = 'mute';\n                labelPressed = 'unmute';\n                icon = 'volume';\n                iconPressed = 'muted';\n                break;\n\n            case 'captions':\n                toggle = true;\n                label = 'enableCaptions';\n                labelPressed = 'disableCaptions';\n                icon = 'captions-off';\n                iconPressed = 'captions-on';\n                break;\n\n            case 'fullscreen':\n                toggle = true;\n                label = 'enterFullscreen';\n                labelPressed = 'exitFullscreen';\n                icon = 'enter-fullscreen';\n                iconPressed = 'exit-fullscreen';\n                break;\n\n            case 'play-large':\n                attributes.class += ` ${this.config.classNames.control}--overlaid`;\n                type = 'play';\n                label = 'play';\n                icon = 'play';\n                break;\n            case 'live':\n                label = 'live';\n                type = 'text';\n                break;\n\n            default:\n                label = type;\n                icon = buttonType;\n        }\n\n        // Setup toggle icon and labels\n        if (toggle) {\n            // Icon\n            button.appendChild(controls.createIcon.call(this, iconPressed, { class: 'icon--pressed' }));\n            button.appendChild(controls.createIcon.call(this, icon, { class: 'icon--not-pressed' }));\n\n            // Label/Tooltip\n            button.appendChild(controls.createLabel.call(this, labelPressed, { class: 'label--pressed' }));\n            button.appendChild(controls.createLabel.call(this, label, { class: 'label--not-pressed' }));\n        } else {\n            button.appendChild(controls.createIcon.call(this, icon));\n            button.appendChild(controls.createHiddenLabel.call(this, label));\n        }\n\n        // Merge attributes\n        extend(attributes, getAttributesFromSelector(this.config.selectors.buttons[type], attributes));\n\n        setAttributes(button, attributes);\n\n        // We have multiple play buttons\n        if (type === 'play') {\n            if (!is.array(this.elements.buttons[type])) {\n                this.elements.buttons[type] = [];\n            }\n\n            this.elements.buttons[type].push(button);\n        } else {\n            this.elements.buttons[type] = button;\n        }\n\n        // Toggle classname when pressed property is set\n        const className = this.config.classNames.controlPressed;\n        Object.defineProperty(button, 'pressed', {\n            enumerable: true,\n            get() {\n                return hasClass(button, className);\n            },\n            set(pressed = false) {\n                toggleClass(button, className, pressed);\n            },\n        });\n\n        return button;\n    },\n\n    // Create an <input type='range'>\n    createRange(type, attributes) {\n        // Seek input\n        const input = createElement(\n            'input',\n            extend(\n                getAttributesFromSelector(this.config.selectors.inputs[type]),\n                {\n                    type: 'range',\n                    min: 0,\n                    max: 100,\n                    step: 0.01,\n                    value: 0,\n                    autocomplete: 'off',\n                    // A11y fixes for https://github.com/sampotts/plyr/issues/905\n                    role: 'slider',\n                    'aria-label': i18n.get(type, this.config),\n                    'aria-valuemin': 0,\n                    'aria-valuemax': 100,\n                    'aria-valuenow': 0,\n                },\n                attributes,\n            ),\n        );\n\n        this.elements.inputs[type] = input;\n\n        // Set the fill for webkit now\n        controls.updateRangeFill.call(this, input);\n\n        return input;\n    },\n\n    // Create a <progress>\n    createProgress(type, attributes) {\n        const progress = createElement(\n            'progress',\n            extend(\n                getAttributesFromSelector(this.config.selectors.display[type]),\n                {\n                    min: 0,\n                    max: 100,\n                    value: 0,\n                    role: 'presentation',\n                    'aria-hidden': true,\n                },\n                attributes,\n            ),\n        );\n\n        // Create the label inside\n        if (type !== 'volume') {\n            progress.appendChild(createElement('span', null, '0'));\n\n            const suffixKey = {\n                played: 'played',\n                buffer: 'buffered',\n            }[type];\n            const suffix = suffixKey ? i18n.get(suffixKey, this.config) : '';\n\n            progress.innerText = `% ${suffix.toLowerCase()}`;\n        }\n\n        this.elements.display[type] = progress;\n\n        return progress;\n    },\n\n    // Create time display\n    createTime(type) {\n        const attributes = getAttributesFromSelector(this.config.selectors.display[type]);\n\n        const container = createElement(\n            'div',\n            extend(attributes, {\n                class: `plyr__time ${attributes.class}`,\n                'aria-label': i18n.get(type, this.config),\n            }),\n            '00:00',\n        );\n\n        // Reference for updates\n        this.elements.display[type] = container;\n\n        return container;\n    },\n\n    // Create a settings menu item\n    createMenuItem({ value, list, type, title, badge = null, checked = false }) {\n        const item = createElement('li');\n\n        const label = createElement('label', {\n            class: this.config.classNames.control,\n        });\n\n        const radio = createElement(\n            'input',\n            extend(getAttributesFromSelector(this.config.selectors.inputs[type]), {\n                type: 'radio',\n                name: `plyr-${type}`,\n                value,\n                checked,\n                class: 'plyr__sr-only',\n            }),\n        );\n\n        const faux = createElement('span', { hidden: '' });\n\n        label.appendChild(radio);\n        label.appendChild(faux);\n        label.insertAdjacentHTML('beforeend', title);\n\n        if (is.element(badge)) {\n            label.appendChild(badge);\n        }\n\n        item.appendChild(label);\n        list.appendChild(item);\n    },\n\n    // Format a time for display\n    formatTime(time = 0, inverted = false) {\n        // Bail if the value isn't a number\n        if (!is.number(time)) {\n            return time;\n        }\n\n        // Always display hours if duration is over an hour\n        const forceHours = getHours(this.duration) > 0;\n\n        return formatTime(time, forceHours, inverted);\n    },\n\n    // Update the displayed time\n    updateTimeDisplay(target = null, time = 0, inverted = false) {\n        // Bail if there's no element to display or the value isn't a number\n        if (!is.element(target) || !is.number(time)) {\n            return;\n        }\n\n        // eslint-disable-next-line no-param-reassign\n        target.innerText = controls.formatTime(time, inverted);\n    },\n\n    // Update volume UI and storage\n    updateVolume() {\n        if (!this.supported.ui) {\n            return;\n        }\n\n        // Update range\n        if (is.element(this.elements.inputs.volume)) {\n            controls.setRange.call(this, this.elements.inputs.volume, this.muted ? 0 : this.volume);\n        }\n\n        // Update mute state\n        if (is.element(this.elements.buttons.mute)) {\n            this.elements.buttons.mute.pressed = this.muted || this.volume === 0;\n        }\n    },\n\n    // Update seek value and lower fill\n    setRange(target, value = 0) {\n        if (!is.element(target)) {\n            return;\n        }\n\n        // eslint-disable-next-line\n        target.value = value;\n\n        // Webkit range fill\n        controls.updateRangeFill.call(this, target);\n    },\n\n    // Update <progress> elements\n    updateProgress(event) {\n        if (!this.supported.ui || !is.event(event)) {\n            return;\n        }\n\n        let value = 0;\n\n        const setProgress = (target, input) => {\n            const value = is.number(input) ? input : 0;\n            const progress = is.element(target) ? target : this.elements.display.buffer;\n\n            // Update value and label\n            if (is.element(progress)) {\n                progress.value = value;\n\n                // Update text label inside\n                const label = progress.getElementsByTagName('span')[0];\n                if (is.element(label)) {\n                    label.childNodes[0].nodeValue = value;\n                }\n            }\n        };\n\n        if (event) {\n            switch (event.type) {\n                // Video playing\n                case 'timeupdate':\n                case 'seeking':\n                case 'seeked':\n                    value = getPercentage(this.currentTime, this.duration);\n\n                    // Set seek range value only if it's a 'natural' time event\n                    if (event.type === 'timeupdate') {\n                        controls.setRange.call(this, this.elements.inputs.seek, value);\n                    }\n\n                    break;\n\n                // Check buffer status\n                case 'playing':\n                case 'progress':\n                    setProgress(this.elements.display.buffer, this.buffered * 100);\n\n                    break;\n\n                default:\n                    break;\n            }\n        }\n    },\n\n    // Webkit polyfill for lower fill range\n    updateRangeFill(target) {\n        // Get range from event if event passed\n        const range = is.event(target) ? target.target : target;\n\n        // Needs to be a valid <input type='range'>\n        if (!is.element(range) || range.getAttribute('type') !== 'range') {\n            return;\n        }\n\n        // Set aria values for https://github.com/sampotts/plyr/issues/905\n        if (matches(range, this.config.selectors.inputs.seek)) {\n            range.setAttribute('aria-valuenow', this.currentTime);\n            const currentTime = controls.formatTime(this.currentTime);\n            const duration = controls.formatTime(this.duration);\n            const format = i18n.get('seekLabel', this.config);\n            range.setAttribute(\n                'aria-valuetext',\n                format.replace('{currentTime}', currentTime).replace('{duration}', duration),\n            );\n        } else if (matches(range, this.config.selectors.inputs.volume)) {\n            const percent = range.value * 100;\n            range.setAttribute('aria-valuenow', percent);\n            range.setAttribute('aria-valuetext', `${percent}%`);\n        } else {\n            range.setAttribute('aria-valuenow', range.value);\n        }\n\n        // WebKit only\n        if (!browser.isWebkit) {\n            return;\n        }\n\n        // Set CSS custom property\n        range.style.setProperty('--value', `${range.value / range.max * 100}%`);\n    },\n\n    // Update hover tooltip for seeking\n    updateSeekTooltip(event) {\n        // Bail if setting not true\n        if (\n            !this.config.tooltips.seek ||\n            !is.element(this.elements.inputs.seek) ||\n            !is.element(this.elements.display.seekTooltip) ||\n            this.duration === 0\n        ) {\n            return;\n        }\n\n        // Calculate percentage\n        let percent = 0;\n        const clientRect = this.elements.progress.getBoundingClientRect();\n        const visible = `${this.config.classNames.tooltip}--visible`;\n\n        const toggle = toggle => {\n            toggleClass(this.elements.display.seekTooltip, visible, toggle);\n        };\n\n        // Hide on touch\n        if (this.touch) {\n            toggle(false);\n            return;\n        }\n\n        // Determine percentage, if already visible\n        if (is.event(event)) {\n            percent = 100 / clientRect.width * (event.pageX - clientRect.left);\n        } else if (hasClass(this.elements.display.seekTooltip, visible)) {\n            percent = parseFloat(this.elements.display.seekTooltip.style.left, 10);\n        } else {\n            return;\n        }\n\n        // Set bounds\n        if (percent < 0) {\n            percent = 0;\n        } else if (percent > 100) {\n            percent = 100;\n        }\n\n        // Display the time a click would seek to\n        controls.updateTimeDisplay.call(this, this.elements.display.seekTooltip, this.duration / 100 * percent);\n\n        // Set position\n        this.elements.display.seekTooltip.style.left = `${percent}%`;\n\n        // Show/hide the tooltip\n        // If the event is a moues in/out and percentage is inside bounds\n        if (is.event(event) && ['mouseenter', 'mouseleave'].includes(event.type)) {\n            toggle(event.type === 'mouseenter');\n        }\n    },\n\n    // Handle time change event\n    timeUpdate(event) {\n        // Only invert if only one time element is displayed and used for both duration and currentTime\n        const invert = !is.element(this.elements.display.duration) && this.config.invertTime;\n\n        // Duration\n        controls.updateTimeDisplay.call(\n            this,\n            this.elements.display.currentTime,\n            invert ? this.duration - this.currentTime : this.currentTime,\n            invert,\n        );\n\n        // Ignore updates while seeking\n        if (event && event.type === 'timeupdate' && this.media.seeking) {\n            return;\n        }\n\n        // Playing progress\n        controls.updateProgress.call(this, event);\n    },\n\n    // Show the duration on metadataloaded or durationchange events\n    durationUpdate() {\n        // Bail if no UI or durationchange event triggered after playing/seek when invertTime is false\n        if (!this.supported.ui || (!this.config.invertTime && this.currentTime)) {\n            return;\n        }\n\n        // If duration is the 2**32 (shaka), Infinity (HLS), DASH-IF (Number.MAX_SAFE_INTEGER || Number.MAX_VALUE) indicating live we hide the currentTime and progressbar.\n        // https://github.com/video-dev/hls.js/blob/5820d29d3c4c8a46e8b75f1e3afa3e68c1a9a2db/src/controller/buffer-controller.js#L415\n        // https://github.com/google/shaka-player/blob/4d889054631f4e1cf0fbd80ddd2b71887c02e232/lib/media/streaming_engine.js#L1062\n        // https://github.com/Dash-Industry-Forum/dash.js/blob/69859f51b969645b234666800d4cb596d89c602d/src/dash/models/DashManifestModel.js#L338\n        if (this.duration >= 2**32) {\n            utils.toggleHidden(this.elements.display.currentTime, true);\n            utils.toggleHidden(this.elements.progress, true);\n            return;\n        }\n\n        // Update ARIA values\n        if (is.element(this.elements.inputs.seek)) {\n            this.elements.inputs.seek.setAttribute('aria-valuemax', this.duration);\n        }\n\n        // If there's a spot to display duration\n        const hasDuration = is.element(this.elements.display.duration);\n\n        // If there's only one time display, display duration there\n        if (!hasDuration && this.config.displayDuration && this.paused) {\n            controls.updateTimeDisplay.call(this, this.elements.display.currentTime, this.duration);\n        }\n\n        // If there's a duration element, update content\n        if (hasDuration) {\n            controls.updateTimeDisplay.call(this, this.elements.display.duration, this.duration);\n        }\n\n        // Update the tooltip (if visible)\n        controls.updateSeekTooltip.call(this);\n    },\n\n    // Hide/show a tab\n    toggleTab(setting, toggle) {\n        toggleHidden(this.elements.settings.tabs[setting], !toggle);\n    },\n\n    // Set the quality menu\n    setQualityMenu(options) {\n        // Menu required\n        if (!is.element(this.elements.settings.panes.quality)) {\n            return;\n        }\n\n        const type = 'quality';\n        const list = this.elements.settings.panes.quality.querySelector('ul');\n\n        // Set options if passed and filter based on uniqueness and config\n        if (is.array(options)) {\n            this.options.quality = dedupe(options).filter(quality => this.config.quality.options.includes(quality));\n        }\n\n        // Toggle the pane and tab\n        const toggle = !is.empty(this.options.quality) && this.options.quality.length > 1;\n        controls.toggleTab.call(this, type, toggle);\n\n        // Check if we need to toggle the parent\n        controls.checkMenu.call(this);\n\n        // If we're hiding, nothing more to do\n        if (!toggle) {\n            return;\n        }\n\n        // Empty the menu\n        emptyElement(list);\n\n        // Get the badge HTML for HD, 4K etc\n        const getBadge = quality => {\n            const label = i18n.get(`qualityBadge.${quality}`, this.config);\n\n            if (!label.length) {\n                return null;\n            }\n\n            return controls.createBadge.call(this, label);\n        };\n\n        // Sort options by the config and then render options\n        this.options.quality\n            .sort((a, b) => {\n                const sorting = this.config.quality.options;\n                return sorting.indexOf(a) > sorting.indexOf(b) ? 1 : -1;\n            })\n            .forEach(quality => {\n                controls.createMenuItem.call(this, {\n                    value: quality,\n                    list,\n                    type,\n                    title: controls.getLabel.call(this, 'quality', quality),\n                    badge: getBadge(quality),\n                });\n            });\n\n        controls.updateSetting.call(this, type, list);\n    },\n\n    // Translate a value into a nice label\n    getLabel(setting, value) {\n        switch (setting) {\n            case 'speed':\n                return value === 1 ? i18n.get('normal', this.config) : `${value}&times;`;\n\n            case 'quality':\n                if (is.number(value)) {\n                    const label = i18n.get(`qualityLabel.${value}`, this.config);\n\n                    if (!label.length) {\n                        return `${value}p`;\n                    }\n\n                    return label;\n                }\n\n                return toTitleCase(value);\n\n            case 'captions':\n                return captions.getLabel.call(this);\n\n            default:\n                return null;\n        }\n    },\n\n    // Update the selected setting\n    updateSetting(setting, container, input) {\n        const pane = this.elements.settings.panes[setting];\n        let value = null;\n        let list = container;\n\n        if (setting === 'captions') {\n            value = this.currentTrack;\n        } else {\n            value = !is.empty(input) ? input : this[setting];\n\n            // Get default\n            if (is.empty(value)) {\n                value = this.config[setting].default;\n            }\n\n            // Unsupported value\n            if (!is.empty(this.options[setting]) && !this.options[setting].includes(value)) {\n                this.debug.warn(`Unsupported value of '${value}' for ${setting}`);\n                return;\n            }\n\n            // Disabled value\n            if (!this.config[setting].options.includes(value)) {\n                this.debug.warn(`Disabled value of '${value}' for ${setting}`);\n                return;\n            }\n        }\n\n        // Get the list if we need to\n        if (!is.element(list)) {\n            list = pane && pane.querySelector('ul');\n        }\n\n        // If there's no list it means it's not been rendered...\n        if (!is.element(list)) {\n            return;\n        }\n\n        // Update the label\n        const label = this.elements.settings.tabs[setting].querySelector(`.${this.config.classNames.menu.value}`);\n        label.innerHTML = controls.getLabel.call(this, setting, value);\n\n        // Find the radio option and check it\n        const target = list && list.querySelector(`input[value=\"${value}\"]`);\n\n        if (is.element(target)) {\n            target.checked = true;\n        }\n    },\n\n    // Set the looping options\n    /* setLoopMenu() {\n        // Menu required\n        if (!is.element(this.elements.settings.panes.loop)) {\n            return;\n        }\n\n        const options = ['start', 'end', 'all', 'reset'];\n        const list = this.elements.settings.panes.loop.querySelector('ul');\n\n        // Show the pane and tab\n        toggleHidden(this.elements.settings.tabs.loop, false);\n        toggleHidden(this.elements.settings.panes.loop, false);\n\n        // Toggle the pane and tab\n        const toggle = !is.empty(this.loop.options);\n        controls.toggleTab.call(this, 'loop', toggle);\n\n        // Empty the menu\n        emptyElement(list);\n\n        options.forEach(option => {\n            const item = createElement('li');\n\n            const button = createElement(\n                'button',\n                extend(getAttributesFromSelector(this.config.selectors.buttons.loop), {\n                    type: 'button',\n                    class: this.config.classNames.control,\n                    'data-plyr-loop-action': option,\n                }),\n                i18n.get(option, this.config)\n            );\n\n            if (['start', 'end'].includes(option)) {\n                const badge = controls.createBadge.call(this, '00:00');\n                button.appendChild(badge);\n            }\n\n            item.appendChild(button);\n            list.appendChild(item);\n        });\n    }, */\n\n    // Get current selected caption language\n    // TODO: rework this to user the getter in the API?\n\n    // Set a list of available captions languages\n    setCaptionsMenu() {\n        // TODO: Captions or language? Currently it's mixed\n        const type = 'captions';\n        const list = this.elements.settings.panes.captions.querySelector('ul');\n        const tracks = captions.getTracks.call(this);\n\n        // Toggle the pane and tab\n        controls.toggleTab.call(this, type, tracks.length);\n\n        // Empty the menu\n        emptyElement(list);\n\n        // Check if we need to toggle the parent\n        controls.checkMenu.call(this);\n\n        // If there's no captions, bail\n        if (!tracks.length) {\n            return;\n        }\n\n        // Generate options data\n        const options = tracks.map((track, value) => ({\n            value,\n            checked: this.captions.toggled && this.currentTrack === value,\n            title: captions.getLabel.call(this, track),\n            badge: track.language && controls.createBadge.call(this, track.language.toUpperCase()),\n            list,\n            type: 'language',\n        }));\n\n        // Add the \"Disabled\" option to turn off captions\n        options.unshift({\n            value: -1,\n            checked: !this.captions.toggled,\n            title: i18n.get('disabled', this.config),\n            list,\n            type: 'language',\n        });\n\n        // Generate options\n        options.forEach(controls.createMenuItem.bind(this));\n\n        controls.updateSetting.call(this, type, list);\n    },\n\n    // Set a list of available captions languages\n    setSpeedMenu(options) {\n        // Do nothing if not selected\n        if (!this.config.controls.includes('settings') || !this.config.settings.includes('speed')) {\n            return;\n        }\n\n        // Menu required\n        if (!is.element(this.elements.settings.panes.speed)) {\n            return;\n        }\n\n        const type = 'speed';\n\n        // Set the speed options\n        if (is.array(options)) {\n            this.options.speed = options;\n        } else if (this.isHTML5 || this.isVimeo) {\n            this.options.speed = [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\n        }\n\n        // Set options if passed and filter based on config\n        this.options.speed = this.options.speed.filter(speed => this.config.speed.options.includes(speed));\n\n        // Toggle the pane and tab\n        const toggle = !is.empty(this.options.speed) && this.options.speed.length > 1;\n        controls.toggleTab.call(this, type, toggle);\n\n        // Check if we need to toggle the parent\n        controls.checkMenu.call(this);\n\n        // If we're hiding, nothing more to do\n        if (!toggle) {\n            return;\n        }\n\n        // Get the list to populate\n        const list = this.elements.settings.panes.speed.querySelector('ul');\n\n        // Empty the menu\n        emptyElement(list);\n\n        // Create items\n        this.options.speed.forEach(speed => {\n            controls.createMenuItem.call(this, {\n                value: speed,\n                list,\n                type,\n                title: controls.getLabel.call(this, 'speed', speed),\n            });\n        });\n\n        controls.updateSetting.call(this, type, list);\n    },\n\n    // Check if we need to hide/show the settings menu\n    checkMenu() {\n        const { tabs } = this.elements.settings;\n        const visible = !is.empty(tabs) && Object.values(tabs).some(tab => !tab.hidden);\n\n        toggleHidden(this.elements.settings.menu, !visible);\n    },\n\n    // Show/hide menu\n    toggleMenu(event) {\n        const { form } = this.elements.settings;\n        const button = this.elements.buttons.settings;\n\n        // Menu and button are required\n        if (!is.element(form) || !is.element(button)) {\n            return;\n        }\n\n        const show = is.boolean(event) ? event : is.element(form) && form.hasAttribute('hidden');\n\n        if (is.event(event)) {\n            const isMenuItem = is.element(form) && form.contains(event.target);\n            const isButton = event.target === this.elements.buttons.settings;\n\n            // If the click was inside the form or if the click\n            // wasn't the button or menu item and we're trying to\n            // show the menu (a doc click shouldn't show the menu)\n            if (isMenuItem || (!isMenuItem && !isButton && show)) {\n                return;\n            }\n\n            // Prevent the toggle being caught by the doc listener\n            if (isButton) {\n                event.stopPropagation();\n            }\n        }\n\n        // Set form and button attributes\n        if (is.element(button)) {\n            button.setAttribute('aria-expanded', show);\n        }\n\n        if (is.element(form)) {\n            toggleHidden(form, !show);\n            toggleClass(this.elements.container, this.config.classNames.menu.open, show);\n\n            if (show) {\n                form.removeAttribute('tabindex');\n            } else {\n                form.setAttribute('tabindex', -1);\n            }\n        }\n    },\n\n    // Get the natural size of a tab\n    getTabSize(tab) {\n        const clone = tab.cloneNode(true);\n        clone.style.position = 'absolute';\n        clone.style.opacity = 0;\n        clone.removeAttribute('hidden');\n\n        // Prevent input's being unchecked due to the name being identical\n        Array.from(clone.querySelectorAll('input[name]')).forEach(input => {\n            const name = input.getAttribute('name');\n            input.setAttribute('name', `${name}-clone`);\n        });\n\n        // Append to parent so we get the \"real\" size\n        tab.parentNode.appendChild(clone);\n\n        // Get the sizes before we remove\n        const width = clone.scrollWidth;\n        const height = clone.scrollHeight;\n\n        // Remove from the DOM\n        removeElement(clone);\n\n        return {\n            width,\n            height,\n        };\n    },\n\n    // Toggle Menu\n    showTab(target = '') {\n        const { menu } = this.elements.settings;\n        const pane = document.getElementById(target);\n\n        // Nothing to show, bail\n        if (!is.element(pane)) {\n            return;\n        }\n\n        // Are we targeting a tab? If not, bail\n        const isTab = pane.getAttribute('role') === 'tabpanel';\n        if (!isTab) {\n            return;\n        }\n\n        // Hide all other tabs\n        // Get other tabs\n        const current = menu.querySelector('[role=\"tabpanel\"]:not([hidden])');\n        const container = current.parentNode;\n\n        // Set other toggles to be expanded false\n        Array.from(menu.querySelectorAll(`[aria-controls=\"${current.getAttribute('id')}\"]`)).forEach(toggle => {\n            toggle.setAttribute('aria-expanded', false);\n        });\n\n        // If we can do fancy animations, we'll animate the height/width\n        if (support.transitions && !support.reducedMotion) {\n            // Set the current width as a base\n            container.style.width = `${current.scrollWidth}px`;\n            container.style.height = `${current.scrollHeight}px`;\n\n            // Get potential sizes\n            const size = controls.getTabSize.call(this, pane);\n\n            // Restore auto height/width\n            const restore = e => {\n                // We're only bothered about height and width on the container\n                if (e.target !== container || !['width', 'height'].includes(e.propertyName)) {\n                    return;\n                }\n\n                // Revert back to auto\n                container.style.width = '';\n                container.style.height = '';\n\n                // Only listen once\n                off.call(this, container, transitionEndEvent, restore);\n            };\n\n            // Listen for the transition finishing and restore auto height/width\n            on.call(this, container, transitionEndEvent, restore);\n\n            // Set dimensions to target\n            container.style.width = `${size.width}px`;\n            container.style.height = `${size.height}px`;\n        }\n\n        // Set attributes on current tab\n        toggleHidden(current, true);\n        current.setAttribute('tabindex', -1);\n\n        // Set attributes on target\n        toggleHidden(pane, false);\n\n        const tabs = getElements.call(this, `[aria-controls=\"${target}\"]`);\n        Array.from(tabs).forEach(tab => {\n            tab.setAttribute('aria-expanded', true);\n        });\n        pane.removeAttribute('tabindex');\n\n        // Focus the first item\n        pane.querySelectorAll('button:not(:disabled), input:not(:disabled), [tabindex]')[0].focus();\n    },\n\n    // Build the default HTML\n    // TODO: Set order based on order in the config.controls array?\n    create(data) {\n        // Do nothing if we want no controls\n        if (is.empty(this.config.controls)) {\n            return null;\n        }\n\n        // Create the container\n        const container = createElement('div', getAttributesFromSelector(this.config.selectors.controls.wrapper));\n\n        // Restart button\n        if (this.config.controls.includes('restart')) {\n            container.appendChild(controls.createButton.call(this, 'restart'));\n        }\n\n        // Rewind button\n        if (this.config.controls.includes('rewind')) {\n            container.appendChild(controls.createButton.call(this, 'rewind'));\n        }\n\n        // Play/Pause button\n        if (this.config.controls.includes('play')) {\n            container.appendChild(controls.createButton.call(this, 'play'));\n        }\n\n        // Fast forward button\n        if (this.config.controls.includes('fast-forward')) {\n            container.appendChild(controls.createButton.call(this, 'fast-forward'));\n        }\n\n        // Live indicator\n        if (this.config.controls.includes('live')) {\n            container.appendChild(controls.createButton.call(this, 'live', { class: 'plyr__live' }));\n        }\n\n        // Progress\n        if (this.config.controls.includes('progress')) {\n            const progress = createElement('div', getAttributesFromSelector(this.config.selectors.progress));\n\n            // Seek range slider\n            progress.appendChild(\n                controls.createRange.call(this, 'seek', {\n                    id: `plyr-seek-${data.id}`,\n                }),\n            );\n\n            // Buffer progress\n            progress.appendChild(controls.createProgress.call(this, 'buffer'));\n\n            // TODO: Add loop display indicator\n\n            // Seek tooltip\n            if (this.config.tooltips.seek) {\n                const tooltip = createElement(\n                    'span',\n                    {\n                        class: this.config.classNames.tooltip,\n                    },\n                    '00:00',\n                );\n\n                progress.appendChild(tooltip);\n                this.elements.display.seekTooltip = tooltip;\n            }\n\n            this.elements.progress = progress;\n            container.appendChild(this.elements.progress);\n        }\n\n        // Media current time display\n        if (this.config.controls.includes('current-time')) {\n            container.appendChild(controls.createTime.call(this, 'currentTime'));\n        }\n\n        // Media duration display\n        if (this.config.controls.includes('duration')) {\n            container.appendChild(controls.createTime.call(this, 'duration'));\n        }\n\n        // Toggle mute button\n        if (this.config.controls.includes('mute')) {\n            container.appendChild(controls.createButton.call(this, 'mute'));\n        }\n\n        // Volume range control\n        if (this.config.controls.includes('volume')) {\n            const volume = createElement('div', {\n                class: 'plyr__volume',\n            });\n\n            // Set the attributes\n            const attributes = {\n                max: 1,\n                step: 0.05,\n                value: this.config.volume,\n            };\n\n            // Create the volume range slider\n            volume.appendChild(\n                controls.createRange.call(\n                    this,\n                    'volume',\n                    extend(attributes, {\n                        id: `plyr-volume-${data.id}`,\n                    }),\n                ),\n            );\n\n            this.elements.volume = volume;\n\n            container.appendChild(volume);\n        }\n\n        // Toggle captions button\n        if (this.config.controls.includes('captions')) {\n            container.appendChild(controls.createButton.call(this, 'captions'));\n        }\n\n        // Settings button / menu\n        if (this.config.controls.includes('settings') && !is.empty(this.config.settings)) {\n            const menu = createElement('div', {\n                class: 'plyr__menu',\n                hidden: '',\n            });\n\n            menu.appendChild(\n                controls.createButton.call(this, 'settings', {\n                    id: `plyr-settings-toggle-${data.id}`,\n                    'aria-haspopup': true,\n                    'aria-controls': `plyr-settings-${data.id}`,\n                    'aria-expanded': false,\n                }),\n            );\n\n            const form = createElement('form', {\n                class: 'plyr__menu__container',\n                id: `plyr-settings-${data.id}`,\n                hidden: '',\n                'aria-labelled-by': `plyr-settings-toggle-${data.id}`,\n                role: 'tablist',\n                tabindex: -1,\n            });\n\n            const inner = createElement('div');\n\n            const home = createElement('div', {\n                id: `plyr-settings-${data.id}-home`,\n                'aria-labelled-by': `plyr-settings-toggle-${data.id}`,\n                role: 'tabpanel',\n            });\n\n            // Create the tab list\n            const tabs = createElement('ul', {\n                role: 'tablist',\n            });\n\n            // Build the tabs\n            this.config.settings.forEach(type => {\n                const tab = createElement('li', {\n                    role: 'tab',\n                    hidden: '',\n                });\n\n                const button = createElement(\n                    'button',\n                    extend(getAttributesFromSelector(this.config.selectors.buttons.settings), {\n                        type: 'button',\n                        class: `${this.config.classNames.control} ${this.config.classNames.control}--forward`,\n                        id: `plyr-settings-${data.id}-${type}-tab`,\n                        'aria-haspopup': true,\n                        'aria-controls': `plyr-settings-${data.id}-${type}`,\n                        'aria-expanded': false,\n                    }),\n                    i18n.get(type, this.config),\n                );\n\n                const value = createElement('span', {\n                    class: this.config.classNames.menu.value,\n                });\n\n                // Speed contains HTML entities\n                value.innerHTML = data[type];\n\n                button.appendChild(value);\n                tab.appendChild(button);\n                tabs.appendChild(tab);\n\n                this.elements.settings.tabs[type] = tab;\n            });\n\n            home.appendChild(tabs);\n            inner.appendChild(home);\n\n            // Build the panes\n            this.config.settings.forEach(type => {\n                const pane = createElement('div', {\n                    id: `plyr-settings-${data.id}-${type}`,\n                    hidden: '',\n                    'aria-labelled-by': `plyr-settings-${data.id}-${type}-tab`,\n                    role: 'tabpanel',\n                    tabindex: -1,\n                });\n\n                const back = createElement(\n                    'button',\n                    {\n                        type: 'button',\n                        class: `${this.config.classNames.control} ${this.config.classNames.control}--back`,\n                        'aria-haspopup': true,\n                        'aria-controls': `plyr-settings-${data.id}-home`,\n                        'aria-expanded': false,\n                    },\n                    i18n.get(type, this.config),\n                );\n\n                pane.appendChild(back);\n\n                const options = createElement('ul');\n\n                pane.appendChild(options);\n                inner.appendChild(pane);\n\n                this.elements.settings.panes[type] = pane;\n            });\n\n            form.appendChild(inner);\n            menu.appendChild(form);\n            container.appendChild(menu);\n\n            this.elements.settings.form = form;\n            this.elements.settings.menu = menu;\n        }\n\n        // Picture in picture button\n        if (this.config.controls.includes('pip') && support.pip) {\n            container.appendChild(controls.createButton.call(this, 'pip'));\n        }\n\n        // Airplay button\n        if (this.config.controls.includes('airplay') && support.airplay) {\n            container.appendChild(controls.createButton.call(this, 'airplay'));\n        }\n\n        // Toggle fullscreen button\n        if (this.config.controls.includes('fullscreen')) {\n            container.appendChild(controls.createButton.call(this, 'fullscreen'));\n        }\n\n        // Larger overlaid play button\n        if (this.config.controls.includes('play-large')) {\n            this.elements.container.appendChild(controls.createButton.call(this, 'play-large'));\n        }\n\n        this.elements.controls = container;\n\n        if (this.isHTML5) {\n            controls.setQualityMenu.call(this, html5.getQualityOptions.call(this));\n        }\n\n        controls.setSpeedMenu.call(this);\n\n        return container;\n    },\n\n    // Insert controls\n    inject() {\n        // Sprite\n        if (this.config.loadSprite) {\n            const icon = controls.getIconUrl.call(this);\n\n            // Only load external sprite using AJAX\n            if (icon.cors) {\n                loadSprite(icon.url, 'sprite-plyr');\n            }\n        }\n\n        // Create a unique ID\n        this.id = Math.floor(Math.random() * 10000);\n\n        // Null by default\n        let container = null;\n        this.elements.controls = null;\n\n        // Set template properties\n        const props = {\n            id: this.id,\n            seektime: this.config.seekTime,\n            title: this.config.title,\n        };\n        let update = true;\n\n        if (is.string(this.config.controls) || is.element(this.config.controls)) {\n            // String or HTMLElement passed as the option\n            container = this.config.controls;\n        } else if (is.function(this.config.controls)) {\n            // A custom function to build controls\n            // The function can return a HTMLElement or String\n            container = this.config.controls.call(this, props);\n        } else {\n            // Create controls\n            container = controls.create.call(this, {\n                id: this.id,\n                seektime: this.config.seekTime,\n                speed: this.speed,\n                quality: this.quality,\n                captions: captions.getLabel.call(this),\n                // TODO: Looping\n                // loop: 'None',\n            });\n            update = false;\n        }\n\n        // Replace props with their value\n        const replace = input => {\n            let result = input;\n\n            Object.entries(props).forEach(([key, value]) => {\n                result = replaceAll(result, `{${key}}`, value);\n            });\n\n            return result;\n        };\n\n        // Update markup\n        if (update) {\n            if (is.string(this.config.controls)) {\n                container = replace(container);\n            } else if (is.element(container)) {\n                container.innerHTML = replace(container.innerHTML);\n            }\n        }\n\n        // Controls container\n        let target;\n\n        // Inject to custom location\n        if (is.string(this.config.selectors.controls.container)) {\n            target = document.querySelector(this.config.selectors.controls.container);\n        }\n\n        // Inject into the container by default\n        if (!is.element(target)) {\n            target = this.elements.container;\n        }\n\n        // Inject controls HTML\n        if (is.element(container)) {\n            target.appendChild(container);\n        } else if (container) {\n            target.insertAdjacentHTML('beforeend', container);\n        }\n\n        // Find the elements if need be\n        if (!is.element(this.elements.controls)) {\n            controls.findElements.call(this);\n        }\n\n        // Edge sometimes doesn't finish the paint so force a redraw\n        if (window.navigator.userAgent.includes('Edge')) {\n            repaint(target);\n        }\n\n        // Setup tooltips\n        if (this.config.tooltips.controls) {\n            const { classNames, selectors } = this.config;\n            const selector = `${selectors.controls.wrapper} ${selectors.labels} .${classNames.hidden}`;\n            const labels = getElements.call(this, selector);\n\n            Array.from(labels).forEach(label => {\n                toggleClass(label, this.config.classNames.hidden, false);\n                toggleClass(label, this.config.classNames.tooltip, true);\n            });\n        }\n    },\n};\n\nexport default controls;\n","// ==========================================================================\n// URL utils\n// ==========================================================================\n\nimport is from './is';\n\n/**\n * Parse a string to a URL object\n * @param {string} input - the URL to be parsed\n * @param {boolean} safe - failsafe parsing\n */\nexport function parseUrl(input, safe = true) {\n    let url = input;\n\n    if (safe) {\n        const parser = document.createElement('a');\n        parser.href = url;\n        url = parser.href;\n    }\n\n    try {\n        return new URL(url);\n    } catch (e) {\n        return null;\n    }\n}\n\n// Convert object to URLSearchParams\nexport function buildUrlParams(input) {\n    const params = new URLSearchParams();\n\n    if (is.object(input)) {\n        Object.entries(input).forEach(([key, value]) => {\n            params.set(key, value);\n        });\n    }\n\n    return params;\n}\n","// ==========================================================================\n// Plyr Captions\n// TODO: Create as class\n// ==========================================================================\n\nimport controls from './controls';\nimport i18n from './i18n';\nimport support from './support';\nimport { dedupe } from './utils/arrays';\nimport browser from './utils/browser';\nimport {\n    createElement,\n    emptyElement,\n    getAttributesFromSelector,\n    insertAfter,\n    removeElement,\n    toggleClass,\n} from './utils/elements';\nimport { on, triggerEvent } from './utils/events';\nimport fetch from './utils/fetch';\nimport is from './utils/is';\nimport { getHTML } from './utils/strings';\nimport { parseUrl } from './utils/urls';\n\nconst captions = {\n    // Setup captions\n    setup() {\n        // Requires UI support\n        if (!this.supported.ui) {\n            return;\n        }\n\n        // Only Vimeo and HTML5 video supported at this point\n        if (!this.isVideo || this.isYouTube || (this.isHTML5 && !support.textTracks)) {\n            // Clear menu and hide\n            if (\n                is.array(this.config.controls) &&\n                this.config.controls.includes('settings') &&\n                this.config.settings.includes('captions')\n            ) {\n                controls.setCaptionsMenu.call(this);\n            }\n\n            return;\n        }\n\n        // Inject the container\n        if (!is.element(this.elements.captions)) {\n            this.elements.captions = createElement('div', getAttributesFromSelector(this.config.selectors.captions));\n\n            insertAfter(this.elements.captions, this.elements.wrapper);\n        }\n\n        // Fix IE captions if CORS is used\n        // Fetch captions and inject as blobs instead (data URIs not supported!)\n        if (browser.isIE && window.URL) {\n            const elements = this.media.querySelectorAll('track');\n\n            Array.from(elements).forEach(track => {\n                const src = track.getAttribute('src');\n                const url = parseUrl(src);\n\n                if (\n                    url !== null &&\n                    url.hostname !== window.location.href.hostname &&\n                    ['http:', 'https:'].includes(url.protocol)\n                ) {\n                    fetch(src, 'blob')\n                        .then(blob => {\n                            track.setAttribute('src', window.URL.createObjectURL(blob));\n                        })\n                        .catch(() => {\n                            removeElement(track);\n                        });\n                }\n            });\n        }\n\n        // Get and set initial data\n        // The \"preferred\" options are not realized unless / until the wanted language has a match\n        // * languages: Array of user's browser languages.\n        // * language:  The language preferred by user settings or config\n        // * active:    The state preferred by user settings or config\n        // * toggled:   The real captions state\n\n        const languages = dedupe(\n            Array.from(navigator.languages || navigator.userLanguage).map(language => language.split('-')[0]),\n        );\n\n        let language = (this.storage.get('language') || this.config.captions.language || 'auto').toLowerCase();\n\n        // Use first browser language when language is 'auto'\n        if (language === 'auto') {\n            [language] = languages;\n        }\n\n        let active = this.storage.get('captions');\n        if (!is.boolean(active)) {\n            ({ active } = this.config.captions);\n        }\n\n        Object.assign(this.captions, {\n            toggled: false,\n            active,\n            language,\n            languages,\n        });\n\n        // Watch changes to textTracks and update captions menu\n        if (this.isHTML5) {\n            const trackEvents = this.config.captions.update ? 'addtrack removetrack' : 'removetrack';\n            on.call(this, this.media.textTracks, trackEvents, captions.update.bind(this));\n        }\n\n        // Update available languages in list next tick (the event must not be triggered before the listeners)\n        setTimeout(captions.update.bind(this), 0);\n    },\n\n    // Update available language options in settings based on tracks\n    update() {\n        const tracks = captions.getTracks.call(this, true);\n        // Get the wanted language\n        const { active, language, meta, currentTrackNode } = this.captions;\n        const languageExists = Boolean(tracks.find(track => track.language === language));\n\n        // Handle tracks (add event listener and \"pseudo\"-default)\n        if (this.isHTML5 && this.isVideo) {\n            tracks.filter(track => !meta.get(track)).forEach(track => {\n                this.debug.log('Track added', track);\n                // Attempt to store if the original dom element was \"default\"\n                meta.set(track, {\n                    default: track.mode === 'showing',\n                });\n\n                // Turn off native caption rendering to avoid double captions\n                track.mode = 'hidden';\n\n                // Add event listener for cue changes\n                on.call(this, track, 'cuechange', () => captions.updateCues.call(this));\n            });\n        }\n\n        // Update language first time it matches, or if the previous matching track was removed\n        if ((languageExists && this.language !== language) || !tracks.includes(currentTrackNode)) {\n            captions.setLanguage.call(this, language);\n            captions.toggle.call(this, active && languageExists);\n        }\n\n        // Enable or disable captions based on track length\n        toggleClass(this.elements.container, this.config.classNames.captions.enabled, !is.empty(tracks));\n\n        // Update available languages in list\n        if ((this.config.controls || []).includes('settings') && this.config.settings.includes('captions')) {\n            controls.setCaptionsMenu.call(this);\n        }\n    },\n\n    // Toggle captions display\n    // Used internally for the toggleCaptions method, with the passive option forced to false\n    toggle(input, passive = true) {\n        // If there's no full support\n        if (!this.supported.ui) {\n            return;\n        }\n\n        const { toggled } = this.captions; // Current state\n        const activeClass = this.config.classNames.captions.active;\n\n        // Get the next state\n        // If the method is called without parameter, toggle based on current value\n        const active = is.nullOrUndefined(input) ? !toggled : input;\n\n        // Update state and trigger event\n        if (active !== toggled) {\n            // When passive, don't override user preferences\n            if (!passive) {\n                this.captions.active = active;\n                this.storage.set({ captions: active });\n            }\n\n            // Force language if the call isn't passive and there is no matching language to toggle to\n            if (!this.language && active && !passive) {\n                const tracks = captions.getTracks.call(this);\n                const track = captions.findTrack.call(this, [this.captions.language, ...this.captions.languages], true);\n\n                // Override user preferences to avoid switching languages if a matching track is added\n                this.captions.language = track.language;\n\n                // Set caption, but don't store in localStorage as user preference\n                captions.set.call(this, tracks.indexOf(track));\n                return;\n            }\n\n            // Toggle state\n            this.elements.buttons.captions.pressed = active;\n\n            // Add class hook\n            toggleClass(this.elements.container, activeClass, active);\n\n            this.captions.toggled = active;\n\n            // Update settings menu\n            controls.updateSetting.call(this, 'captions');\n\n            // Trigger event (not used internally)\n            triggerEvent.call(this, this.media, active ? 'captionsenabled' : 'captionsdisabled');\n        }\n    },\n\n    // Set captions by track index\n    // Used internally for the currentTrack setter with the passive option forced to false\n    set(index, passive = true) {\n        const tracks = captions.getTracks.call(this);\n\n        // Disable captions if setting to -1\n        if (index === -1) {\n            captions.toggle.call(this, false, passive);\n            return;\n        }\n\n        if (!is.number(index)) {\n            this.debug.warn('Invalid caption argument', index);\n            return;\n        }\n\n        if (!(index in tracks)) {\n            this.debug.warn('Track not found', index);\n            return;\n        }\n\n        if (this.captions.currentTrack !== index) {\n            this.captions.currentTrack = index;\n            const track = tracks[index];\n            const { language } = track || {};\n\n            // Store reference to node for invalidation on remove\n            this.captions.currentTrackNode = track;\n\n            // Update settings menu\n            controls.updateSetting.call(this, 'captions');\n\n            // When passive, don't override user preferences\n            if (!passive) {\n                this.captions.language = language;\n                this.storage.set({ language });\n            }\n\n            // Handle Vimeo captions\n            if (this.isVimeo) {\n                this.embed.enableTextTrack(language);\n            }\n\n            // Trigger event\n            triggerEvent.call(this, this.media, 'languagechange');\n        }\n\n        // Show captions\n        captions.toggle.call(this, true, passive);\n\n        if (this.isHTML5 && this.isVideo) {\n            // If we change the active track while a cue is already displayed we need to update it\n            captions.updateCues.call(this);\n        }\n    },\n\n    // Set captions by language\n    // Used internally for the language setter with the passive option forced to false\n    setLanguage(input, passive = true) {\n        if (!is.string(input)) {\n            this.debug.warn('Invalid language argument', input);\n            return;\n        }\n        // Normalize\n        const language = input.toLowerCase();\n        this.captions.language = language;\n\n        // Set currentTrack\n        const tracks = captions.getTracks.call(this);\n        const track = captions.findTrack.call(this, [language]);\n        captions.set.call(this, tracks.indexOf(track), passive);\n    },\n\n    // Get current valid caption tracks\n    // If update is false it will also ignore tracks without metadata\n    // This is used to \"freeze\" the language options when captions.update is false\n    getTracks(update = false) {\n        // Handle media or textTracks missing or null\n        const tracks = Array.from((this.media || {}).textTracks || []);\n        // For HTML5, use cache instead of current tracks when it exists (if captions.update is false)\n        // Filter out removed tracks and tracks that aren't captions/subtitles (for example metadata)\n        return tracks\n            .filter(track => !this.isHTML5 || update || this.captions.meta.has(track))\n            .filter(track => ['captions', 'subtitles'].includes(track.kind));\n    },\n\n    // Match tracks based on languages and get the first\n    findTrack(languages, force = false) {\n        const tracks = captions.getTracks.call(this);\n        const sortIsDefault = track => Number((this.captions.meta.get(track) || {}).default);\n        const sorted = Array.from(tracks).sort((a, b) => sortIsDefault(b) - sortIsDefault(a));\n        let track;\n        languages.every(language => {\n            track = sorted.find(track => track.language === language);\n            return !track; // Break iteration if there is a match\n        });\n        // If no match is found but is required, get first\n        return track || (force ? sorted[0] : undefined);\n    },\n\n    // Get the current track\n    getCurrentTrack() {\n        return captions.getTracks.call(this)[this.currentTrack];\n    },\n\n    // Get UI label for track\n    getLabel(track) {\n        let currentTrack = track;\n\n        if (!is.track(currentTrack) && support.textTracks && this.captions.toggled) {\n            currentTrack = captions.getCurrentTrack.call(this);\n        }\n\n        if (is.track(currentTrack)) {\n            if (!is.empty(currentTrack.label)) {\n                return currentTrack.label;\n            }\n\n            if (!is.empty(currentTrack.language)) {\n                return track.language.toUpperCase();\n            }\n\n            return i18n.get('enabled', this.config);\n        }\n\n        return i18n.get('disabled', this.config);\n    },\n\n    // Update captions using current track's active cues\n    // Also optional array argument in case there isn't any track (ex: vimeo)\n    updateCues(input) {\n        // Requires UI\n        if (!this.supported.ui) {\n            return;\n        }\n\n        if (!is.element(this.elements.captions)) {\n            this.debug.warn('No captions element to render to');\n            return;\n        }\n\n        // Only accept array or empty input\n        if (!is.nullOrUndefined(input) && !Array.isArray(input)) {\n            this.debug.warn('updateCues: Invalid input', input);\n            return;\n        }\n\n        let cues = input;\n\n        // Get cues from track\n        if (!cues) {\n            const track = captions.getCurrentTrack.call(this);\n            cues = Array.from((track || {}).activeCues || [])\n                .map(cue => cue.getCueAsHTML())\n                .map(getHTML);\n        }\n\n        // Set new caption text\n        const content = cues.map(cueText => cueText.trim()).join('\\n');\n        const changed = content !== this.elements.captions.innerHTML;\n\n        if (changed) {\n            // Empty the container and create a new child element\n            emptyElement(this.elements.captions);\n            const caption = createElement('span', getAttributesFromSelector(this.config.selectors.caption));\n            caption.innerHTML = content;\n            this.elements.captions.appendChild(caption);\n\n            // Trigger event\n            triggerEvent.call(this, this.media, 'cuechange');\n        }\n    },\n};\n\nexport default captions;\n","// ==========================================================================\n// Plyr default config\n// ==========================================================================\n\nconst defaults = {\n    // Disable\n    enabled: true,\n\n    // Custom media title\n    title: '',\n\n    // Logging to console\n    debug: false,\n\n    // Auto play (if supported)\n    autoplay: false,\n\n    // Only allow one media playing at once (vimeo only)\n    autopause: true,\n\n    // Allow inline playback on iOS (this effects YouTube/Vimeo - HTML5 requires the attribute present)\n    // TODO: Remove iosNative fullscreen option in favour of this (logic needs work)\n    playsinline: true,\n\n    // Default time to skip when rewind/fast forward\n    seekTime: 10,\n\n    // Default volume\n    volume: 1,\n    muted: false,\n\n    // Pass a custom duration\n    duration: null,\n\n    // Display the media duration on load in the current time position\n    // If you have opted to display both duration and currentTime, this is ignored\n    displayDuration: true,\n\n    // Invert the current time to be a countdown\n    invertTime: true,\n\n    // Clicking the currentTime inverts it's value to show time left rather than elapsed\n    toggleInvert: true,\n\n    // Aspect ratio (for embeds)\n    ratio: '16:9',\n\n    // Click video container to play/pause\n    clickToPlay: true,\n\n    // Auto hide the controls\n    hideControls: true,\n\n    // Reset to start when playback ended\n    resetOnEnd: false,\n\n    // Disable the standard context menu\n    disableContextMenu: true,\n\n    // Sprite (for icons)\n    loadSprite: true,\n    iconPrefix: 'plyr',\n    iconUrl: 'https://cdn.plyr.io/3.3.12/plyr.svg',\n\n    // Blank video (used to prevent errors on source change)\n    blankVideo: 'https://cdn.plyr.io/static/blank.mp4',\n\n    // Quality default\n    quality: {\n        default: 576,\n        options: [\n            4320,\n            2880,\n            2160,\n            1440,\n            1080,\n            720,\n            576,\n            480,\n            360,\n            240,\n            'default', // YouTube's \"auto\"\n        ],\n    },\n\n    // Set loops\n    loop: {\n        active: false,\n        // start: null,\n        // end: null,\n    },\n\n    // Speed default and options to display\n    speed: {\n        selected: 1,\n        options: [0.5, 0.75, 1, 1.25, 1.5, 1.75, 2],\n    },\n\n    // Keyboard shortcut settings\n    keyboard: {\n        focused: true,\n        global: false,\n    },\n\n    // Display tooltips\n    tooltips: {\n        controls: false,\n        seek: true,\n    },\n\n    // Captions settings\n    captions: {\n        active: false,\n        language: 'auto',\n        // Listen to new tracks added after Plyr is initialized.\n        // This is needed for streaming captions, but may result in unselectable options\n        update: false,\n    },\n\n    // Fullscreen settings\n    fullscreen: {\n        enabled: true, // Allow fullscreen?\n        fallback: true, // Fallback for vintage browsers\n        iosNative: false, // Use the native fullscreen in iOS (disables custom controls)\n    },\n\n    // Local storage\n    storage: {\n        enabled: true,\n        key: 'plyr',\n    },\n\n    // Default controls\n    controls: [\n        'play-large',\n        // 'restart',\n        // 'rewind',\n        'play',\n        // 'fast-forward',\n        'progress',\n        'current-time',\n        'mute',\n        'volume',\n        'captions',\n        'settings',\n        'pip',\n        'airplay',\n        'fullscreen',\n        'live',\n    ],\n    settings: ['captions', 'quality', 'speed'],\n\n    // Localisation\n    i18n: {\n        restart: 'Restart',\n        rewind: 'Rewind {seektime}s',\n        play: 'Play',\n        pause: 'Pause',\n        fastForward: 'Forward {seektime}s',\n        seek: 'Seek',\n        seekLabel: '{currentTime} of {duration}',\n        played: 'Played',\n        buffered: 'Buffered',\n        currentTime: 'Current time',\n        duration: 'Duration',\n        volume: 'Volume',\n        mute: 'Mute',\n        unmute: 'Unmute',\n        enableCaptions: 'Enable captions',\n        disableCaptions: 'Disable captions',\n        enterFullscreen: 'Enter fullscreen',\n        exitFullscreen: 'Exit fullscreen',\n        frameTitle: 'Player for {title}',\n        captions: 'Captions',\n        settings: 'Settings',\n        menuBack: 'Go back to previous menu',\n        speed: 'Speed',\n        normal: 'Normal',\n        quality: 'Quality',\n        loop: 'Loop',\n        start: 'Start',\n        end: 'End',\n        all: 'All',\n        reset: 'Reset',\n        disabled: 'Disabled',\n        enabled: 'Enabled',\n        advertisement: 'Ad',\n        qualityBadge: {\n            2160: '4K',\n            1440: 'HD',\n            1080: 'HD',\n            720: 'HD',\n            576: 'SD',\n            480: 'SD',\n        },\n        live: 'Live',\n    },\n\n    // URLs\n    urls: {\n        vimeo: {\n            sdk: 'https://player.vimeo.com/api/player.js',\n            iframe: 'https://player.vimeo.com/video/{0}?{1}',\n            api: 'https://vimeo.com/api/v2/video/{0}.json',\n        },\n        youtube: {\n            sdk: 'https://www.youtube.com/iframe_api',\n            api:\n                'https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet',\n        },\n        googleIMA: {\n            sdk: 'https://imasdk.googleapis.com/js/sdkloader/ima3.js',\n        },\n    },\n\n    // Custom control listeners\n    listeners: {\n        seek: null,\n        play: null,\n        pause: null,\n        restart: null,\n        rewind: null,\n        fastForward: null,\n        mute: null,\n        volume: null,\n        captions: null,\n        fullscreen: null,\n        pip: null,\n        airplay: null,\n        speed: null,\n        quality: null,\n        loop: null,\n        language: null,\n    },\n\n    // Events to watch and bubble\n    events: [\n        // Events to watch on HTML5 media elements and bubble\n        // https://developer.mozilla.org/en/docs/Web/Guide/Events/Media_events\n        'ended',\n        'progress',\n        'stalled',\n        'playing',\n        'waiting',\n        'canplay',\n        'canplaythrough',\n        'loadstart',\n        'loadeddata',\n        'loadedmetadata',\n        'timeupdate',\n        'volumechange',\n        'play',\n        'pause',\n        'error',\n        'seeking',\n        'seeked',\n        'emptied',\n        'ratechange',\n        'cuechange',\n\n        // Custom events\n        'enterfullscreen',\n        'exitfullscreen',\n        'captionsenabled',\n        'captionsdisabled',\n        'languagechange',\n        'controlshidden',\n        'controlsshown',\n        'ready',\n\n        // YouTube\n        'statechange',\n        'qualitychange',\n        'qualityrequested',\n\n        // Ads\n        'adsloaded',\n        'adscontentpause',\n        'adscontentresume',\n        'adstarted',\n        'adsmidpoint',\n        'adscomplete',\n        'adsallcomplete',\n        'adsimpression',\n        'adsclick',\n    ],\n\n    // Selectors\n    // Change these to match your template if using custom HTML\n    selectors: {\n        editable: 'input, textarea, select, [contenteditable]',\n        container: '.plyr',\n        controls: {\n            container: null,\n            wrapper: '.plyr__controls',\n        },\n        labels: '[data-plyr]',\n        buttons: {\n            play: '[data-plyr=\"play\"]',\n            pause: '[data-plyr=\"pause\"]',\n            restart: '[data-plyr=\"restart\"]',\n            rewind: '[data-plyr=\"rewind\"]',\n            fastForward: '[data-plyr=\"fast-forward\"]',\n            mute: '[data-plyr=\"mute\"]',\n            captions: '[data-plyr=\"captions\"]',\n            fullscreen: '[data-plyr=\"fullscreen\"]',\n            pip: '[data-plyr=\"pip\"]',\n            airplay: '[data-plyr=\"airplay\"]',\n            settings: '[data-plyr=\"settings\"]',\n            loop: '[data-plyr=\"loop\"]',\n        },\n        inputs: {\n            seek: '[data-plyr=\"seek\"]',\n            volume: '[data-plyr=\"volume\"]',\n            speed: '[data-plyr=\"speed\"]',\n            language: '[data-plyr=\"language\"]',\n            quality: '[data-plyr=\"quality\"]',\n        },\n        display: {\n            currentTime: '.plyr__time--current',\n            duration: '.plyr__time--duration',\n            buffer: '.plyr__progress__buffer',\n            loop: '.plyr__progress__loop', // Used later\n            volume: '.plyr__volume--display',\n        },\n        progress: '.plyr__progress',\n        captions: '.plyr__captions',\n        caption: '.plyr__caption',\n        menu: {\n            quality: '.js-plyr__menu__list--quality',\n        },\n    },\n\n    // Class hooks added to the player in different states\n    classNames: {\n        type: 'plyr--{0}',\n        provider: 'plyr--{0}',\n        video: 'plyr__video-wrapper',\n        embed: 'plyr__video-embed',\n        embedContainer: 'plyr__video-embed__container',\n        poster: 'plyr__poster',\n        posterEnabled: 'plyr__poster-enabled',\n        ads: 'plyr__ads',\n        control: 'plyr__control',\n        controlPressed: 'plyr__control--pressed',\n        playing: 'plyr--playing',\n        paused: 'plyr--paused',\n        stopped: 'plyr--stopped',\n        loading: 'plyr--loading',\n        hover: 'plyr--hover',\n        tooltip: 'plyr__tooltip',\n        cues: 'plyr__cues',\n        hidden: 'plyr__sr-only',\n        hideControls: 'plyr--hide-controls',\n        isIos: 'plyr--is-ios',\n        isTouch: 'plyr--is-touch',\n        uiSupported: 'plyr--full-ui',\n        noTransition: 'plyr--no-transition',\n        menu: {\n            value: 'plyr__menu__value',\n            badge: 'plyr__badge',\n            open: 'plyr--menu-open',\n        },\n        captions: {\n            enabled: 'plyr--captions-enabled',\n            active: 'plyr--captions-active',\n        },\n        fullscreen: {\n            enabled: 'plyr--fullscreen-enabled',\n            fallback: 'plyr--fullscreen-fallback',\n        },\n        pip: {\n            supported: 'plyr--pip-supported',\n            active: 'plyr--pip-active',\n        },\n        airplay: {\n            supported: 'plyr--airplay-supported',\n            active: 'plyr--airplay-active',\n        },\n        tabFocus: 'plyr__tab-focus',\n    },\n\n    // Embed attributes\n    attributes: {\n        embed: {\n            provider: 'data-plyr-provider',\n            id: 'data-plyr-embed-id',\n        },\n    },\n\n    // API keys\n    keys: {\n        google: null,\n    },\n\n    // Advertisements plugin\n    // Register for an account here: http://vi.ai/publisher-video-monetization/?aid=plyrio\n    ads: {\n        enabled: false,\n        publisherId: '',\n    },\n};\n\nexport default defaults;\n","// ==========================================================================\n// Plyr supported types and providers\n// ==========================================================================\n\nexport const providers = {\n    html5: 'html5',\n    youtube: 'youtube',\n    vimeo: 'vimeo',\n};\n\nexport const types = {\n    audio: 'audio',\n    video: 'video',\n};\n\n/**\n * Get provider by URL\n * @param {string} url\n */\nexport function getProviderByUrl(url) {\n    // YouTube\n    if (/^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.?be)\\/.+$/.test(url)) {\n        return providers.youtube;\n    }\n\n    // Vimeo\n    if (/^https?:\\/\\/player.vimeo.com\\/video\\/\\d{0,9}(?=\\b|\\/)/.test(url)) {\n        return providers.vimeo;\n    }\n\n    return null;\n}\n\nexport default { providers, types };\n","// ==========================================================================\n// Console wrapper\n// ==========================================================================\n\nconst noop = () => {};\n\nexport default class Console {\n    constructor(enabled = false) {\n        this.enabled = window.console && enabled;\n\n        if (this.enabled) {\n            this.log('Debugging enabled');\n        }\n    }\n\n    get log() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.log, console) : noop;\n    }\n    get warn() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.warn, console) : noop;\n    }\n    get error() {\n        // eslint-disable-next-line no-console\n        return this.enabled ? Function.prototype.bind.call(console.error, console) : noop;\n    }\n}\n","// ==========================================================================\n// Fullscreen wrapper\n// https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API#prefixing\n// ==========================================================================\n\nimport browser from './utils/browser';\nimport { hasClass, toggleClass, trapFocus } from './utils/elements';\nimport { on, triggerEvent } from './utils/events';\nimport is from './utils/is';\n\nfunction onChange() {\n    if (!this.enabled) {\n        return;\n    }\n\n    // Update toggle button\n    const button = this.player.elements.buttons.fullscreen;\n    if (is.element(button)) {\n        button.pressed = this.active;\n    }\n\n    // Trigger an event\n    triggerEvent.call(this.player, this.target, this.active ? 'enterfullscreen' : 'exitfullscreen', true);\n\n    // Trap focus in container\n    if (!browser.isIos) {\n        trapFocus.call(this.player, this.target, this.active);\n    }\n}\n\nfunction toggleFallback(toggle = false) {\n    // Store or restore scroll position\n    if (toggle) {\n        this.scrollPosition = {\n            x: window.scrollX || 0,\n            y: window.scrollY || 0,\n        };\n    } else {\n        window.scrollTo(this.scrollPosition.x, this.scrollPosition.y);\n    }\n\n    // Toggle scroll\n    document.body.style.overflow = toggle ? 'hidden' : '';\n\n    // Toggle class hook\n    toggleClass(this.target, this.player.config.classNames.fullscreen.fallback, toggle);\n\n    // Toggle button and fire events\n    onChange.call(this);\n}\n\nclass Fullscreen {\n    constructor(player) {\n        // Keep reference to parent\n        this.player = player;\n\n        // Get prefix\n        this.prefix = Fullscreen.prefix;\n        this.property = Fullscreen.property;\n\n        // Scroll position\n        this.scrollPosition = { x: 0, y: 0 };\n\n        // Register event listeners\n        // Handle event (incase user presses escape etc)\n        on.call(\n            this.player,\n            document,\n            this.prefix === 'ms' ? 'MSFullscreenChange' : `${this.prefix}fullscreenchange`,\n            () => {\n                // TODO: Filter for target??\n                onChange.call(this);\n            },\n        );\n\n        // Fullscreen toggle on double click\n        on.call(this.player, this.player.elements.container, 'dblclick', event => {\n            // Ignore double click in controls\n            if (is.element(this.player.elements.controls) && this.player.elements.controls.contains(event.target)) {\n                return;\n            }\n\n            this.toggle();\n        });\n\n        // Update the UI\n        this.update();\n    }\n\n    // Determine if native supported\n    static get native() {\n        return !!(\n            document.fullscreenEnabled ||\n            document.webkitFullscreenEnabled ||\n            document.mozFullScreenEnabled ||\n            document.msFullscreenEnabled\n        );\n    }\n\n    // Get the prefix for handlers\n    static get prefix() {\n        // No prefix\n        if (is.function(document.exitFullscreen)) {\n            return '';\n        }\n\n        // Check for fullscreen support by vendor prefix\n        let value = '';\n        const prefixes = ['webkit', 'moz', 'ms'];\n\n        prefixes.some(pre => {\n            if (is.function(document[`${pre}ExitFullscreen`]) || is.function(document[`${pre}CancelFullScreen`])) {\n                value = pre;\n                return true;\n            }\n\n            return false;\n        });\n\n        return value;\n    }\n\n    static get property() {\n        return this.prefix === 'moz' ? 'FullScreen' : 'Fullscreen';\n    }\n\n    // Determine if fullscreen is enabled\n    get enabled() {\n        return (\n            (Fullscreen.native || this.player.config.fullscreen.fallback) &&\n            this.player.config.fullscreen.enabled &&\n            this.player.supported.ui &&\n            this.player.isVideo\n        );\n    }\n\n    // Get active state\n    get active() {\n        if (!this.enabled) {\n            return false;\n        }\n\n        // Fallback using classname\n        if (!Fullscreen.native) {\n            return hasClass(this.target, this.player.config.classNames.fullscreen.fallback);\n        }\n\n        const element = !this.prefix ? document.fullscreenElement : document[`${this.prefix}${this.property}Element`];\n\n        return element === this.target;\n    }\n\n    // Get target element\n    get target() {\n        return browser.isIos && this.player.config.fullscreen.iosNative\n            ? this.player.media\n            : this.player.elements.container;\n    }\n\n    // Update UI\n    update() {\n        if (this.enabled) {\n            this.player.debug.log(`${Fullscreen.native ? 'Native' : 'Fallback'} fullscreen enabled`);\n        } else {\n            this.player.debug.log('Fullscreen not supported and fallback disabled');\n        }\n\n        // Add styling hook to show button\n        toggleClass(this.player.elements.container, this.player.config.classNames.fullscreen.enabled, this.enabled);\n    }\n\n    // Make an element fullscreen\n    enter() {\n        if (!this.enabled) {\n            return;\n        }\n\n        // iOS native fullscreen doesn't need the request step\n        if (browser.isIos && this.player.config.fullscreen.iosNative) {\n            if (this.player.playing) {\n                this.target.webkitEnterFullscreen();\n            }\n        } else if (!Fullscreen.native) {\n            toggleFallback.call(this, true);\n        } else if (!this.prefix) {\n            this.target.requestFullscreen();\n        } else if (!is.empty(this.prefix)) {\n            this.target[`${this.prefix}Request${this.property}`]();\n        }\n    }\n\n    // Bail from fullscreen\n    exit() {\n        if (!this.enabled) {\n            return;\n        }\n\n        // iOS native fullscreen\n        if (browser.isIos && this.player.config.fullscreen.iosNative) {\n            this.target.webkitExitFullscreen();\n            this.player.play();\n        } else if (!Fullscreen.native) {\n            toggleFallback.call(this, false);\n        } else if (!this.prefix) {\n            (document.cancelFullScreen || document.exitFullscreen).call(document);\n        } else if (!is.empty(this.prefix)) {\n            const action = this.prefix === 'moz' ? 'Cancel' : 'Exit';\n            document[`${this.prefix}${action}${this.property}`]();\n        }\n    }\n\n    // Toggle state\n    toggle() {\n        if (!this.active) {\n            this.enter();\n        } else {\n            this.exit();\n        }\n    }\n}\n\nexport default Fullscreen;\n","// ==========================================================================\n// Load image avoiding xhr/fetch CORS issues\n// Server status can't be obtained this way unfortunately, so this uses \"naturalWidth\" to determine if the image has loaded\n// By default it checks if it is at least 1px, but you can add a second argument to change this\n// ==========================================================================\n\nexport default function loadImage(src, minWidth = 1) {\n    return new Promise((resolve, reject) => {\n        const image = new Image();\n\n        const handler = () => {\n            delete image.onload;\n            delete image.onerror;\n            (image.naturalWidth >= minWidth ? resolve : reject)(image);\n        };\n\n        Object.assign(image, { onload: handler, onerror: handler, src });\n    });\n}\n","// ==========================================================================\n// Plyr UI\n// ==========================================================================\n\nimport captions from './captions';\nimport controls from './controls';\nimport i18n from './i18n';\nimport support from './support';\nimport browser from './utils/browser';\nimport { getElement, toggleClass } from './utils/elements';\nimport { ready, triggerEvent } from './utils/events';\nimport is from './utils/is';\nimport loadImage from './utils/loadImage';\n\nconst ui = {\n    addStyleHook() {\n        toggleClass(this.elements.container, this.config.selectors.container.replace('.', ''), true);\n        toggleClass(this.elements.container, this.config.classNames.uiSupported, this.supported.ui);\n    },\n\n    // Toggle native HTML5 media controls\n    toggleNativeControls(toggle = false) {\n        if (toggle && this.isHTML5) {\n            this.media.setAttribute('controls', '');\n        } else {\n            this.media.removeAttribute('controls');\n        }\n    },\n\n    // Setup the UI\n    build() {\n        // Re-attach media element listeners\n        // TODO: Use event bubbling?\n        this.listeners.media();\n\n        // Don't setup interface if no support\n        if (!this.supported.ui) {\n            this.debug.warn(`Basic support only for ${this.provider} ${this.type}`);\n\n            // Restore native controls\n            ui.toggleNativeControls.call(this, true);\n\n            // Bail\n            return;\n        }\n\n        // Inject custom controls if not present\n        if (!is.element(this.elements.controls)) {\n            // Inject custom controls\n            controls.inject.call(this);\n\n            // Re-attach control listeners\n            this.listeners.controls();\n        }\n\n        // Remove native controls\n        ui.toggleNativeControls.call(this);\n\n        // Setup captions for HTML5\n        if (this.isHTML5) {\n            captions.setup.call(this);\n        }\n\n        // Reset volume\n        this.volume = null;\n\n        // Reset mute state\n        this.muted = null;\n\n        // Reset speed\n        this.speed = null;\n\n        // Reset loop state\n        this.loop = null;\n\n        // Reset quality setting\n        this.quality = null;\n\n        // Reset volume display\n        controls.updateVolume.call(this);\n\n        // Reset time display\n        controls.timeUpdate.call(this);\n\n        // Update the UI\n        ui.checkPlaying.call(this);\n\n        // Check for picture-in-picture support\n        toggleClass(\n            this.elements.container,\n            this.config.classNames.pip.supported,\n            support.pip && this.isHTML5 && this.isVideo,\n        );\n\n        // Check for airplay support\n        toggleClass(this.elements.container, this.config.classNames.airplay.supported, support.airplay && this.isHTML5);\n\n        // Add iOS class\n        toggleClass(this.elements.container, this.config.classNames.isIos, browser.isIos);\n\n        // Add touch class\n        toggleClass(this.elements.container, this.config.classNames.isTouch, this.touch);\n\n        // Ready for API calls\n        this.ready = true;\n\n        // Ready event at end of execution stack\n        setTimeout(() => {\n            triggerEvent.call(this, this.media, 'ready');\n        }, 0);\n\n        // Set the title\n        ui.setTitle.call(this);\n\n        // Assure the poster image is set, if the property was added before the element was created\n        if (this.poster) {\n            ui.setPoster.call(this, this.poster, false).catch(() => {});\n        }\n\n        // Manually set the duration if user has overridden it.\n        // The event listeners for it doesn't get called if preload is disabled (#701)\n        if (this.config.duration) {\n            controls.durationUpdate.call(this);\n        }\n    },\n\n    // Setup aria attribute for play and iframe title\n    setTitle() {\n        // Find the current text\n        let label = i18n.get('play', this.config);\n\n        // If there's a media title set, use that for the label\n        if (is.string(this.config.title) && !is.empty(this.config.title)) {\n            label += `, ${this.config.title}`;\n        }\n\n        // If there's a play button, set label\n        Array.from(this.elements.buttons.play || []).forEach(button => {\n            button.setAttribute('aria-label', label);\n        });\n\n        // Set iframe title\n        // https://github.com/sampotts/plyr/issues/124\n        if (this.isEmbed) {\n            const iframe = getElement.call(this, 'iframe');\n\n            if (!is.element(iframe)) {\n                return;\n            }\n\n            // Default to media type\n            const title = !is.empty(this.config.title) ? this.config.title : 'video';\n            const format = i18n.get('frameTitle', this.config);\n\n            iframe.setAttribute('title', format.replace('{title}', title));\n        }\n    },\n\n    // Toggle poster\n    togglePoster(enable) {\n        toggleClass(this.elements.container, this.config.classNames.posterEnabled, enable);\n    },\n\n    // Set the poster image (async)\n    // Used internally for the poster setter, with the passive option forced to false\n    setPoster(poster, passive = true) {\n        // Don't override if call is passive\n        if (passive && this.poster) {\n            return Promise.reject(new Error('Poster already set'));\n        }\n\n        // Set property synchronously to respect the call order\n        this.media.setAttribute('poster', poster);\n\n        // Wait until ui is ready\n        return (\n            ready\n                .call(this)\n                // Load image\n                .then(() => loadImage(poster))\n                .catch(err => {\n                    // Hide poster on error unless it's been set by another call\n                    if (poster === this.poster) {\n                        ui.togglePoster.call(this, false);\n                    }\n                    // Rethrow\n                    throw err;\n                })\n                .then(() => {\n                    // Prevent race conditions\n                    if (poster !== this.poster) {\n                        throw new Error('setPoster cancelled by later call to setPoster');\n                    }\n                })\n                .then(() => {\n                    Object.assign(this.elements.poster.style, {\n                        backgroundImage: `url('${poster}')`,\n                        // Reset backgroundSize as well (since it can be set to \"cover\" for padded thumbnails for youtube)\n                        backgroundSize: '',\n                    });\n                    ui.togglePoster.call(this, true);\n                    return poster;\n                })\n        );\n    },\n\n    // Check playing state\n    checkPlaying(event) {\n        // Class hooks\n        toggleClass(this.elements.container, this.config.classNames.playing, this.playing);\n        toggleClass(this.elements.container, this.config.classNames.paused, this.paused);\n        toggleClass(this.elements.container, this.config.classNames.stopped, this.stopped);\n\n        // Set state\n        Array.from(this.elements.buttons.play || []).forEach(target => {\n            target.pressed = this.playing;\n        });\n\n        // Only update controls on non timeupdate events\n        if (is.event(event) && event.type === 'timeupdate') {\n            return;\n        }\n\n        // Toggle controls\n        ui.toggleControls.call(this);\n    },\n\n    // Check if media is loading\n    checkLoading(event) {\n        this.loading = ['stalled', 'waiting'].includes(event.type);\n\n        // Clear timer\n        clearTimeout(this.timers.loading);\n\n        // Timer to prevent flicker when seeking\n        this.timers.loading = setTimeout(() => {\n            // Update progress bar loading class state\n            toggleClass(this.elements.container, this.config.classNames.loading, this.loading);\n\n            // Update controls visibility\n            ui.toggleControls.call(this);\n        }, this.loading ? 250 : 0);\n    },\n\n    // Toggle controls based on state and `force` argument\n    toggleControls(force) {\n        const { controls } = this.elements;\n\n        if (controls && this.config.hideControls) {\n            // Show controls if force, loading, paused, or button interaction, otherwise hide\n            this.toggleControls(Boolean(force || this.loading || this.paused || controls.pressed || controls.hover));\n        }\n    },\n};\n\nexport default ui;\n","// ==========================================================================\n// Plyr Event Listeners\n// ==========================================================================\n\nimport controls from './controls';\nimport ui from './ui';\nimport browser from './utils/browser';\nimport { getElement, getElements, getFocusElement, matches, toggleClass, toggleHidden } from './utils/elements';\nimport { on, once, toggleListener, triggerEvent } from './utils/events';\nimport is from './utils/is';\n\nclass Listeners {\n    constructor(player) {\n        this.player = player;\n        this.lastKey = null;\n\n        this.handleKey = this.handleKey.bind(this);\n        this.toggleMenu = this.toggleMenu.bind(this);\n        this.firstTouch = this.firstTouch.bind(this);\n    }\n\n    // Handle key presses\n    handleKey(event) {\n        const code = event.keyCode ? event.keyCode : event.which;\n        const pressed = event.type === 'keydown';\n        const repeat = pressed && code === this.lastKey;\n\n        // Bail if a modifier key is set\n        if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {\n            return;\n        }\n\n        // If the event is bubbled from the media element\n        // Firefox doesn't get the keycode for whatever reason\n        if (!is.number(code)) {\n            return;\n        }\n\n        // Seek by the number keys\n        const seekByKey = () => {\n            // Divide the max duration into 10th's and times by the number value\n            this.player.currentTime = this.player.duration / 10 * (code - 48);\n        };\n\n        // Handle the key on keydown\n        // Reset on keyup\n        if (pressed) {\n            // Which keycodes should we prevent default\n            const preventDefault = [32, 37, 38, 39, 40, 48, 49, 50, 51, 52, 53, 54, 56, 57, 67, 70, 73, 75, 76, 77, 79];\n\n            // Check focused element\n            // and if the focused element is not editable (e.g. text input)\n            // and any that accept key input http://webaim.org/techniques/keyboard/\n            const focused = getFocusElement();\n            if (\n                is.element(focused) &&\n                (focused !== this.player.elements.inputs.seek &&\n                    matches(focused, this.player.config.selectors.editable))\n            ) {\n                return;\n            }\n\n            // If the code is found prevent default (e.g. prevent scrolling for arrows)\n            if (preventDefault.includes(code)) {\n                event.preventDefault();\n                event.stopPropagation();\n            }\n\n            switch (code) {\n                case 48:\n                case 49:\n                case 50:\n                case 51:\n                case 52:\n                case 53:\n                case 54:\n                case 55:\n                case 56:\n                case 57:\n                    // 0-9\n                    if (!repeat) {\n                        seekByKey();\n                    }\n                    break;\n\n                case 32:\n                case 75:\n                    // Space and K key\n                    if (!repeat) {\n                        this.player.togglePlay();\n                    }\n                    break;\n\n                case 38:\n                    // Arrow up\n                    this.player.increaseVolume(0.1);\n                    break;\n\n                case 40:\n                    // Arrow down\n                    this.player.decreaseVolume(0.1);\n                    break;\n\n                case 77:\n                    // M key\n                    if (!repeat) {\n                        this.player.muted = !this.player.muted;\n                    }\n                    break;\n\n                case 39:\n                    // Arrow forward\n                    this.player.forward();\n                    break;\n\n                case 37:\n                    // Arrow back\n                    this.player.rewind();\n                    break;\n\n                case 70:\n                    // F key\n                    this.player.fullscreen.toggle();\n                    break;\n\n                case 67:\n                    // C key\n                    if (!repeat) {\n                        this.player.toggleCaptions();\n                    }\n                    break;\n\n                case 76:\n                    // L key\n                    this.player.loop = !this.player.loop;\n                    break;\n\n                /* case 73:\n                    this.setLoop('start');\n                    break;\n\n                case 76:\n                    this.setLoop();\n                    break;\n\n                case 79:\n                    this.setLoop('end');\n                    break; */\n\n                default:\n                    break;\n            }\n\n            // Escape is handle natively when in full screen\n            // So we only need to worry about non native\n            if (!this.player.fullscreen.enabled && this.player.fullscreen.active && code === 27) {\n                this.player.fullscreen.toggle();\n            }\n\n            // Store last code for next cycle\n            this.lastKey = code;\n        } else {\n            this.lastKey = null;\n        }\n    }\n\n    // Toggle menu\n    toggleMenu(event) {\n        controls.toggleMenu.call(this.player, event);\n    }\n\n    // Device is touch enabled\n    firstTouch() {\n        this.player.touch = true;\n\n        // Add touch class\n        toggleClass(this.player.elements.container, this.player.config.classNames.isTouch, true);\n    }\n\n    // Global window & document listeners\n    global(toggle = true) {\n        // Keyboard shortcuts\n        if (this.player.config.keyboard.global) {\n            toggleListener.call(this.player, window, 'keydown keyup', this.handleKey, toggle, false);\n        }\n\n        // Click anywhere closes menu\n        toggleListener.call(this.player, document.body, 'click', this.toggleMenu, toggle);\n\n        // Detect touch by events\n        once.call(this.player, document.body, 'touchstart', this.firstTouch);\n    }\n\n    // Container listeners\n    container() {\n        // Keyboard shortcuts\n        if (!this.player.config.keyboard.global && this.player.config.keyboard.focused) {\n            on.call(this.player, this.player.elements.container, 'keydown keyup', this.handleKey, false);\n        }\n\n        // Detect tab focus\n        // Remove class on blur/focusout\n        on.call(this.player, this.player.elements.container, 'focusout', event => {\n            toggleClass(event.target, this.player.config.classNames.tabFocus, false);\n        });\n        // Add classname to tabbed elements\n        on.call(this.player, this.player.elements.container, 'keydown', event => {\n            if (event.keyCode !== 9) {\n                return;\n            }\n\n            // Delay the adding of classname until the focus has changed\n            // This event fires before the focusin event\n            setTimeout(() => {\n                toggleClass(getFocusElement(), this.player.config.classNames.tabFocus, true);\n            }, 0);\n        });\n\n        // Toggle controls on mouse events and entering fullscreen\n        on.call(\n            this.player,\n            this.player.elements.container,\n            'mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen',\n            event => {\n                const { controls } = this.player.elements;\n\n                // Remove button states for fullscreen\n                if (event.type === 'enterfullscreen') {\n                    controls.pressed = false;\n                    controls.hover = false;\n                }\n\n                // Show, then hide after a timeout unless another control event occurs\n                const show = ['touchstart', 'touchmove', 'mousemove'].includes(event.type);\n\n                let delay = 0;\n\n                if (show) {\n                    ui.toggleControls.call(this.player, true);\n                    // Use longer timeout for touch devices\n                    delay = this.player.touch ? 3000 : 2000;\n                }\n\n                // Clear timer\n                clearTimeout(this.player.timers.controls);\n                // Timer to prevent flicker when seeking\n                this.player.timers.controls = setTimeout(() => ui.toggleControls.call(this.player, false), delay);\n            },\n        );\n    }\n\n    // Listen for media events\n    media() {\n        // Time change on media\n        on.call(this.player, this.player.media, 'timeupdate seeking seeked', event =>\n            controls.timeUpdate.call(this.player, event),\n        );\n\n        // Display duration\n        on.call(this.player, this.player.media, 'durationchange loadeddata loadedmetadata', event =>\n            controls.durationUpdate.call(this.player, event),\n        );\n\n        // Check for audio tracks on load\n        // We can't use `loadedmetadata` as it doesn't seem to have audio tracks at that point\n        on.call(this.player, this.player.media, 'canplay', () => {\n            toggleHidden(this.player.elements.volume, !this.player.hasAudio);\n            toggleHidden(this.player.elements.buttons.mute, !this.player.hasAudio);\n        });\n\n        // Handle the media finishing\n        on.call(this.player, this.player.media, 'ended', () => {\n            // Show poster on end\n            if (this.player.isHTML5 && this.player.isVideo && this.player.config.resetOnEnd) {\n                // Restart\n                this.player.restart();\n            }\n        });\n\n        // Check for buffer progress\n        on.call(this.player, this.player.media, 'progress playing seeking seeked', event =>\n            controls.updateProgress.call(this.player, event),\n        );\n\n        // Handle volume changes\n        on.call(this.player, this.player.media, 'volumechange', event =>\n            controls.updateVolume.call(this.player, event),\n        );\n\n        // Handle play/pause\n        on.call(this.player, this.player.media, 'playing play pause ended emptied timeupdate', event =>\n            ui.checkPlaying.call(this.player, event),\n        );\n\n        // Loading state\n        on.call(this.player, this.player.media, 'waiting canplay seeked playing', event =>\n            ui.checkLoading.call(this.player, event),\n        );\n\n        // If autoplay, then load advertisement if required\n        // TODO: Show some sort of loading state while the ad manager loads else there's a delay before ad shows\n        on.call(this.player, this.player.media, 'playing', () => {\n            if (!this.player.ads) {\n                return;\n            }\n\n            // If ads are enabled, wait for them first\n            if (this.player.ads.enabled && !this.player.ads.initialized) {\n                // Wait for manager response\n                this.player.ads.managerPromise.then(() => this.player.ads.play()).catch(() => this.player.play());\n            }\n        });\n\n        // Click video\n        if (this.player.supported.ui && this.player.config.clickToPlay && !this.player.isAudio) {\n            // Re-fetch the wrapper\n            const wrapper = getElement.call(this.player, `.${this.player.config.classNames.video}`);\n\n            // Bail if there's no wrapper (this should never happen)\n            if (!is.element(wrapper)) {\n                return;\n            }\n\n            // On click play, pause ore restart\n            on.call(this.player, wrapper, 'click', () => {\n                // Touch devices will just show controls (if we're hiding controls)\n                if (this.player.config.hideControls && this.player.touch && !this.player.paused) {\n                    return;\n                }\n\n                if (this.player.paused) {\n                    this.player.play();\n                } else if (this.player.ended) {\n                    this.player.restart();\n                    this.player.play();\n                } else {\n                    this.player.pause();\n                }\n            });\n        }\n\n        // Disable right click\n        if (this.player.supported.ui && this.player.config.disableContextMenu) {\n            on.call(\n                this.player,\n                this.player.elements.wrapper,\n                'contextmenu',\n                event => {\n                    event.preventDefault();\n                },\n                false,\n            );\n        }\n\n        // Volume change\n        on.call(this.player, this.player.media, 'volumechange', () => {\n            // Save to storage\n            this.player.storage.set({ volume: this.player.volume, muted: this.player.muted });\n        });\n\n        // Speed change\n        on.call(this.player, this.player.media, 'ratechange', () => {\n            // Update UI\n            controls.updateSetting.call(this.player, 'speed');\n\n            // Save to storage\n            this.player.storage.set({ speed: this.player.speed });\n        });\n\n        // Quality request\n        on.call(this.player, this.player.media, 'qualityrequested', event => {\n            // Save to storage\n            this.player.storage.set({ quality: event.detail.quality });\n        });\n\n        // Quality change\n        on.call(this.player, this.player.media, 'qualitychange', event => {\n            // Update UI\n            controls.updateSetting.call(this.player, 'quality', null, event.detail.quality);\n        });\n\n        // Proxy events to container\n        // Bubble up key events for Edge\n        const proxyEvents = this.player.config.events.concat(['keyup', 'keydown']).join(' ');\n        on.call(this.player, this.player.media, proxyEvents, event => {\n            let { detail = {} } = event;\n\n            // Get error details from media\n            if (event.type === 'error') {\n                detail = this.player.media.error;\n            }\n\n            triggerEvent.call(this.player, this.player.elements.container, event.type, true, detail);\n        });\n    }\n\n    // Listen for control events\n    controls() {\n        // IE doesn't support input event, so we fallback to change\n        const inputEvent = browser.isIE ? 'change' : 'input';\n\n        // Run default and custom handlers\n        const proxy = (event, defaultHandler, customHandlerKey) => {\n            const customHandler = this.player.config.listeners[customHandlerKey];\n            const hasCustomHandler = is.function(customHandler);\n            let returned = true;\n\n            // Execute custom handler\n            if (hasCustomHandler) {\n                returned = customHandler.call(this.player, event);\n            }\n\n            // Only call default handler if not prevented in custom handler\n            if (returned && is.function(defaultHandler)) {\n                defaultHandler.call(this.player, event);\n            }\n        };\n\n        // Trigger custom and default handlers\n        const bind = (element, type, defaultHandler, customHandlerKey, passive = true) => {\n            const customHandler = this.player.config.listeners[customHandlerKey];\n            const hasCustomHandler = is.function(customHandler);\n\n            on.call(\n                this.player,\n                element,\n                type,\n                event => proxy(event, defaultHandler, customHandlerKey),\n                passive && !hasCustomHandler,\n            );\n        };\n\n        // Play/pause toggle\n        Array.from(this.player.elements.buttons.play).forEach(button => {\n            bind(button, 'click', this.player.togglePlay, 'play');\n        });\n\n        // Pause\n        bind(this.player.elements.buttons.restart, 'click', this.player.restart, 'restart');\n\n        // Rewind\n        bind(this.player.elements.buttons.rewind, 'click', this.player.rewind, 'rewind');\n\n        // Rewind\n        bind(this.player.elements.buttons.fastForward, 'click', this.player.forward, 'fastForward');\n\n        // Mute toggle\n        bind(\n            this.player.elements.buttons.mute,\n            'click',\n            () => {\n                this.player.muted = !this.player.muted;\n            },\n            'mute',\n        );\n\n        // Captions toggle\n        bind(this.player.elements.buttons.captions, 'click', () => this.player.toggleCaptions());\n\n        // Fullscreen toggle\n        bind(\n            this.player.elements.buttons.fullscreen,\n            'click',\n            () => {\n                this.player.fullscreen.toggle();\n            },\n            'fullscreen',\n        );\n\n        // Picture-in-Picture\n        bind(\n            this.player.elements.buttons.pip,\n            'click',\n            () => {\n                this.player.pip = 'toggle';\n            },\n            'pip',\n        );\n\n        // Airplay\n        bind(this.player.elements.buttons.airplay, 'click', this.player.airplay, 'airplay');\n\n        // Settings menu\n        bind(this.player.elements.buttons.settings, 'click', event => {\n            controls.toggleMenu.call(this.player, event);\n        });\n\n        // Settings menu\n        bind(this.player.elements.settings.form, 'click', event => {\n            event.stopPropagation();\n\n            // Go back to home tab on click\n            const showHomeTab = () => {\n                const id = `plyr-settings-${this.player.id}-home`;\n                controls.showTab.call(this.player, id);\n            };\n\n            // Settings menu items - use event delegation as items are added/removed\n            if (matches(event.target, this.player.config.selectors.inputs.language)) {\n                proxy(\n                    event,\n                    () => {\n                        this.player.currentTrack = Number(event.target.value);\n                        showHomeTab();\n                    },\n                    'language',\n                );\n            } else if (matches(event.target, this.player.config.selectors.inputs.quality)) {\n                proxy(\n                    event,\n                    () => {\n                        this.player.quality = event.target.value;\n                        showHomeTab();\n                    },\n                    'quality',\n                );\n            } else if (matches(event.target, this.player.config.selectors.inputs.speed)) {\n                proxy(\n                    event,\n                    () => {\n                        this.player.speed = parseFloat(event.target.value);\n                        showHomeTab();\n                    },\n                    'speed',\n                );\n            } else {\n                const tab = event.target;\n                controls.showTab.call(this.player, tab.getAttribute('aria-controls'));\n            }\n        });\n\n        // Set range input alternative \"value\", which matches the tooltip time (#954)\n        bind(this.player.elements.inputs.seek, 'mousedown mousemove', event => {\n            const clientRect = this.player.elements.progress.getBoundingClientRect();\n            const percent = 100 / clientRect.width * (event.pageX - clientRect.left);\n            event.currentTarget.setAttribute('seek-value', percent);\n        });\n\n        // Pause while seeking\n        bind(this.player.elements.inputs.seek, 'mousedown mouseup keydown keyup touchstart touchend', event => {\n            const seek = event.currentTarget;\n\n            const code = event.keyCode ? event.keyCode : event.which;\n            const eventType = event.type;\n\n            if ((eventType === 'keydown' || eventType === 'keyup') && (code !== 39 && code !== 37)) {\n                return;\n            }\n            // Was playing before?\n            const play = seek.hasAttribute('play-on-seeked');\n\n            // Done seeking\n            const done = ['mouseup', 'touchend', 'keyup'].includes(event.type);\n\n            // If we're done seeking and it was playing, resume playback\n            if (play && done) {\n                seek.removeAttribute('play-on-seeked');\n                this.player.play();\n            } else if (!done && this.player.playing) {\n                seek.setAttribute('play-on-seeked', '');\n                this.player.pause();\n            }\n        });\n\n        // Seek\n        bind(\n            this.player.elements.inputs.seek,\n            inputEvent,\n            event => {\n                const seek = event.currentTarget;\n\n                // If it exists, use seek-value instead of \"value\" for consistency with tooltip time (#954)\n                let seekTo = seek.getAttribute('seek-value');\n\n                if (is.empty(seekTo)) {\n                    seekTo = seek.value;\n                }\n\n                seek.removeAttribute('seek-value');\n\n                this.player.currentTime = seekTo / seek.max * this.player.duration;\n            },\n            'seek',\n        );\n\n        // Current time invert\n        // Only if one time element is used for both currentTime and duration\n        if (this.player.config.toggleInvert && !is.element(this.player.elements.display.duration)) {\n            bind(this.player.elements.display.currentTime, 'click', () => {\n                // Do nothing if we're at the start\n                if (this.player.currentTime === 0) {\n                    return;\n                }\n\n                this.player.config.invertTime = !this.player.config.invertTime;\n\n                controls.timeUpdate.call(this.player);\n            });\n        }\n\n        // Volume\n        bind(\n            this.player.elements.inputs.volume,\n            inputEvent,\n            event => {\n                this.player.volume = event.target.value;\n            },\n            'volume',\n        );\n\n        // Polyfill for lower fill in <input type=\"range\"> for webkit\n        if (browser.isWebkit) {\n            Array.from(getElements.call(this.player, 'input[type=\"range\"]')).forEach(element => {\n                bind(element, 'input', event => controls.updateRangeFill.call(this.player, event.target));\n            });\n        }\n\n        // Seek tooltip\n        bind(this.player.elements.progress, 'mouseenter mouseleave mousemove', event =>\n            controls.updateSeekTooltip.call(this.player, event),\n        );\n\n        // Update controls.hover state (used for ui.toggleControls to avoid hiding when interacting)\n        bind(this.player.elements.controls, 'mouseenter mouseleave', event => {\n            this.player.elements.controls.hover = !this.player.touch && event.type === 'mouseenter';\n        });\n\n        // Update controls.pressed state (used for ui.toggleControls to avoid hiding when interacting)\n        bind(this.player.elements.controls, 'mousedown mouseup touchstart touchend touchcancel', event => {\n            this.player.elements.controls.pressed = ['mousedown', 'touchstart'].includes(event.type);\n        });\n\n        // Focus in/out on controls\n        bind(this.player.elements.controls, 'focusin focusout', event => {\n            const { config, elements, timers } = this.player;\n\n            // Skip transition to prevent focus from scrolling the parent element\n            toggleClass(elements.controls, config.classNames.noTransition, event.type === 'focusin');\n\n            // Toggle\n            ui.toggleControls.call(this.player, event.type === 'focusin');\n\n            // If focusin, hide again after delay\n            if (event.type === 'focusin') {\n                // Restore transition\n                setTimeout(() => {\n                    toggleClass(elements.controls, config.classNames.noTransition, false);\n                }, 0);\n\n                // Delay a little more for keyboard users\n                const delay = this.touch ? 3000 : 4000;\n\n                // Clear timer\n                clearTimeout(timers.controls);\n                // Hide\n                timers.controls = setTimeout(() => ui.toggleControls.call(this.player, false), delay);\n            }\n        });\n\n        // Mouse wheel for volume\n        bind(\n            this.player.elements.inputs.volume,\n            'wheel',\n            event => {\n                // Detect \"natural\" scroll - suppored on OS X Safari only\n                // Other browsers on OS X will be inverted until support improves\n                const inverted = event.webkitDirectionInvertedFromDevice;\n\n                // Get delta from event. Invert if `inverted` is true\n                const [x, y] = [event.deltaX, -event.deltaY]\n                    .map(value => inverted ? -value : value);\n\n                // Using the biggest delta, normalize to 1 or -1 (or 0 if no delta)\n                const direction = Math.sign(Math.abs(x) > Math.abs(y) ? x : y);\n\n                // Change the volume by 2%\n                this.player.increaseVolume(direction / 50);\n\n                // Don't break page scrolling at max and min\n                const { volume } = this.player.media;\n                if ((direction === 1 && volume < 1) || (direction === -1 && volume > 0)) {\n                    event.preventDefault();\n                }\n            },\n            'volume',\n            false,\n        );\n    }\n}\n\nexport default Listeners;\n","(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.loadjs = factory();\n  }\n}(this, function() {\n/**\n * Global dependencies.\n * @global {Object} document - DOM\n */\n\nvar devnull = function() {},\n    bundleIdCache = {},\n    bundleResultCache = {},\n    bundleCallbackQueue = {};\n\n\n/**\n * Subscribe to bundle load event.\n * @param {string[]} bundleIds - Bundle ids\n * @param {Function} callbackFn - The callback function\n */\nfunction subscribe(bundleIds, callbackFn) {\n  // listify\n  bundleIds = bundleIds.push ? bundleIds : [bundleIds];\n\n  var depsNotFound = [],\n      i = bundleIds.length,\n      numWaiting = i,\n      fn,\n      bundleId,\n      r,\n      q;\n\n  // define callback function\n  fn = function (bundleId, pathsNotFound) {\n    if (pathsNotFound.length) depsNotFound.push(bundleId);\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(depsNotFound);\n  };\n\n  // register callback\n  while (i--) {\n    bundleId = bundleIds[i];\n\n    // execute callback if in result cache\n    r = bundleResultCache[bundleId];\n    if (r) {\n      fn(bundleId, r);\n      continue;\n    }\n\n    // add to callback queue\n    q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\n    q.push(fn);\n  }\n}\n\n\n/**\n * Publish bundle load event.\n * @param {string} bundleId - Bundle id\n * @param {string[]} pathsNotFound - List of files not found\n */\nfunction publish(bundleId, pathsNotFound) {\n  // exit if id isn't defined\n  if (!bundleId) return;\n\n  var q = bundleCallbackQueue[bundleId];\n\n  // cache result\n  bundleResultCache[bundleId] = pathsNotFound;\n\n  // exit if queue is empty\n  if (!q) return;\n\n  // empty callback queue\n  while (q.length) {\n    q[0](bundleId, pathsNotFound);\n    q.splice(0, 1);\n  }\n}\n\n\n/**\n * Execute callbacks.\n * @param {Object or Function} args - The callback args\n * @param {string[]} depsNotFound - List of dependencies not found\n */\nfunction executeCallbacks(args, depsNotFound) {\n  // accept function as argument\n  if (args.call) args = {success: args};\n\n  // success and error callbacks\n  if (depsNotFound.length) (args.error || devnull)(depsNotFound);\n  else (args.success || devnull)(args);\n}\n\n\n/**\n * Load individual file.\n * @param {string} path - The file path\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFile(path, callbackFn, args, numTries) {\n  var doc = document,\n      async = args.async,\n      maxTries = (args.numRetries || 0) + 1,\n      beforeCallbackFn = args.before || devnull,\n      pathStripped = path.replace(/^(css|img)!/, ''),\n      isCss,\n      e;\n\n  numTries = numTries || 0;\n\n  if (/(^css!|\\.css$)/.test(path)) {\n    isCss = true;\n\n    // css\n    e = doc.createElement('link');\n    e.rel = 'stylesheet';\n    e.href = pathStripped; //.replace(/^css!/, '');  // remove \"css!\" prefix\n  } else if (/(^img!|\\.(png|gif|jpg|svg)$)/.test(path)) {\n    // image\n    e = doc.createElement('img');\n    e.src = pathStripped;    \n  } else {\n    // javascript\n    e = doc.createElement('script');\n    e.src = path;\n    e.async = async === undefined ? true : async;\n  }\n\n  e.onload = e.onerror = e.onbeforeload = function (ev) {\n    var result = ev.type[0];\n\n    // Note: The following code isolates IE using `hideFocus` and treats empty\n    // stylesheets as failures to get around lack of onerror support\n    if (isCss && 'hideFocus' in e) {\n      try {\n        if (!e.sheet.cssText.length) result = 'e';\n      } catch (x) {\n        // sheets objects created from load errors don't allow access to\n        // `cssText`\n        result = 'e';\n      }\n    }\n\n    // handle retries in case of load failure\n    if (result == 'e') {\n      // increment counter\n      numTries += 1;\n\n      // exit function and try again\n      if (numTries < maxTries) {\n        return loadFile(path, callbackFn, args, numTries);\n      }\n    }\n\n    // execute callback\n    callbackFn(path, result, ev.defaultPrevented);\n  };\n\n  // add to document (unless callback returns `false`)\n  if (beforeCallbackFn(path, e) !== false) doc.head.appendChild(e);\n}\n\n\n/**\n * Load multiple files.\n * @param {string[]} paths - The file paths\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFiles(paths, callbackFn, args) {\n  // listify paths\n  paths = paths.push ? paths : [paths];\n\n  var numWaiting = paths.length,\n      x = numWaiting,\n      pathsNotFound = [],\n      fn,\n      i;\n\n  // define callback function\n  fn = function(path, result, defaultPrevented) {\n    // handle error\n    if (result == 'e') pathsNotFound.push(path);\n\n    // handle beforeload event. If defaultPrevented then that means the load\n    // will be blocked (ex. Ghostery/ABP on Safari)\n    if (result == 'b') {\n      if (defaultPrevented) pathsNotFound.push(path);\n      else return;\n    }\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(pathsNotFound);\n  };\n\n  // load scripts\n  for (i=0; i < x; i++) loadFile(paths[i], fn, args);\n}\n\n\n/**\n * Initiate script load and register bundle.\n * @param {(string|string[])} paths - The file paths\n * @param {(string|Function)} [arg1] - The bundleId or success callback\n * @param {Function} [arg2] - The success or error callback\n * @param {Function} [arg3] - The error callback\n */\nfunction loadjs(paths, arg1, arg2) {\n  var bundleId,\n      args;\n\n  // bundleId (if string)\n  if (arg1 && arg1.trim) bundleId = arg1;\n\n  // args (default is {})\n  args = (bundleId ? arg2 : arg1) || {};\n\n  // throw error if bundle is already defined\n  if (bundleId) {\n    if (bundleId in bundleIdCache) {\n      throw \"LoadJS\";\n    } else {\n      bundleIdCache[bundleId] = true;\n    }\n  }\n\n  // load scripts\n  loadFiles(paths, function (pathsNotFound) {\n    // execute callbacks\n    executeCallbacks(args, pathsNotFound);\n\n    // publish bundle load event\n    publish(bundleId, pathsNotFound);\n  }, args);\n}\n\n\n/**\n * Execute callbacks when dependencies have been satisfied.\n * @param {(string|string[])} deps - List of bundle ids\n * @param {Object} args - success/error arguments\n */\nloadjs.ready = function ready(deps, args) {\n  // subscribe to bundle load event\n  subscribe(deps, function (depsNotFound) {\n    // execute callbacks\n    executeCallbacks(args, depsNotFound);\n  });\n\n  return loadjs;\n};\n\n\n/**\n * Manually satisfy bundle dependencies.\n * @param {string} bundleId - The bundle id\n */\nloadjs.done = function done(bundleId) {\n  publish(bundleId, []);\n};\n\n\n/**\n * Reset loadjs dependencies statuses\n */\nloadjs.reset = function reset() {\n  bundleIdCache = {};\n  bundleResultCache = {};\n  bundleCallbackQueue = {};\n};\n\n\n/**\n * Determine if bundle has already been defined\n * @param String} bundleId - The bundle id\n */\nloadjs.isDefined = function isDefined(bundleId) {\n  return bundleId in bundleIdCache;\n};\n\n\n// export\nreturn loadjs;\n\n}));\n","// ==========================================================================\n// Load an external script\n// ==========================================================================\n\nimport loadjs from 'loadjs';\n\nexport default function loadScript(url) {\n    return new Promise((resolve, reject) => {\n        loadjs(url, {\n            success: resolve,\n            error: reject,\n        });\n    });\n}\n","// ==========================================================================\n// Vimeo plugin\n// ==========================================================================\n\nimport captions from './../captions';\nimport controls from './../controls';\nimport ui from './../ui';\nimport { createElement, replaceElement, toggleClass } from './../utils/elements';\nimport { triggerEvent } from './../utils/events';\nimport fetch from './../utils/fetch';\nimport is from './../utils/is';\nimport loadScript from './../utils/loadScript';\nimport { format, stripHTML } from './../utils/strings';\nimport { buildUrlParams } from './../utils/urls';\n\n// Parse Vimeo ID from URL\nfunction parseId(url) {\n    if (is.empty(url)) {\n        return null;\n    }\n\n    if (is.number(Number(url))) {\n        return url;\n    }\n\n    const regex = /^.*(vimeo.com\\/|video\\/)(\\d+).*/;\n    return url.match(regex) ? RegExp.$2 : url;\n}\n\n// Get aspect ratio for dimensions\nfunction getAspectRatio(width, height) {\n    const getRatio = (w, h) => (h === 0 ? w : getRatio(h, w % h));\n    const ratio = getRatio(width, height);\n    return `${width / ratio}:${height / ratio}`;\n}\n\n// Set playback state and trigger change (only on actual change)\nfunction assurePlaybackState(play) {\n    if (play && !this.embed.hasPlayed) {\n        this.embed.hasPlayed = true;\n    }\n    if (this.media.paused === play) {\n        this.media.paused = !play;\n        triggerEvent.call(this, this.media, play ? 'play' : 'pause');\n    }\n}\n\nconst vimeo = {\n    setup() {\n        // Add embed class for responsive\n        toggleClass(this.elements.wrapper, this.config.classNames.embed, true);\n\n        // Set intial ratio\n        vimeo.setAspectRatio.call(this);\n\n        // Load the API if not already\n        if (!is.object(window.Vimeo)) {\n            loadScript(this.config.urls.vimeo.sdk)\n                .then(() => {\n                    vimeo.ready.call(this);\n                })\n                .catch(error => {\n                    this.debug.warn('Vimeo API failed to load', error);\n                });\n        } else {\n            vimeo.ready.call(this);\n        }\n    },\n\n    // Set aspect ratio\n    // For Vimeo we have an extra 300% height <div> to hide the standard controls and UI\n    setAspectRatio(input) {\n        const [x, y] = (is.string(input) ? input : this.config.ratio).split(':');\n        const padding = 100 / x * y;\n        this.elements.wrapper.style.paddingBottom = `${padding}%`;\n\n        if (this.supported.ui) {\n            const height = 240;\n            const offset = (height - padding) / (height / 50);\n\n            this.media.style.transform = `translateY(-${offset}%)`;\n        }\n    },\n\n    // API Ready\n    ready() {\n        const player = this;\n\n        // Get Vimeo params for the iframe\n        const options = {\n            loop: player.config.loop.active,\n            autoplay: player.autoplay,\n            // muted: player.muted,\n            byline: false,\n            portrait: false,\n            title: false,\n            speed: true,\n            transparent: 0,\n            gesture: 'media',\n            playsinline: !this.config.fullscreen.iosNative,\n        };\n        const params = buildUrlParams(options);\n\n        // Get the source URL or ID\n        let source = player.media.getAttribute('src');\n\n        // Get from <div> if needed\n        if (is.empty(source)) {\n            source = player.media.getAttribute(player.config.attributes.embed.id);\n        }\n\n        const id = parseId(source);\n\n        // Build an iframe\n        const iframe = createElement('iframe');\n        const src = format(player.config.urls.vimeo.iframe, id, params);\n        iframe.setAttribute('src', src);\n        iframe.setAttribute('allowfullscreen', '');\n        iframe.setAttribute('allowtransparency', '');\n        iframe.setAttribute('allow', 'autoplay');\n\n        // Get poster, if already set\n        const { poster } = player;\n\n        // Inject the package\n        const wrapper = createElement('div', { poster, class: player.config.classNames.embedContainer });\n        wrapper.appendChild(iframe);\n        player.media = replaceElement(wrapper, player.media);\n\n        // Get poster image\n        fetch(format(player.config.urls.vimeo.api, id), 'json').then(response => {\n            if (is.empty(response)) {\n                return;\n            }\n\n            // Get the URL for thumbnail\n            const url = new URL(response[0].thumbnail_large);\n\n            // Get original image\n            url.pathname = `${url.pathname.split('_')[0]}.jpg`;\n\n            // Set and show poster\n            ui.setPoster.call(player, url.href).catch(() => {});\n        });\n\n        // Setup instance\n        // https://github.com/vimeo/player.js\n        player.embed = new window.Vimeo.Player(iframe, {\n            autopause: player.config.autopause,\n            muted: player.muted,\n        });\n\n        player.media.paused = true;\n        player.media.currentTime = 0;\n\n        // Disable native text track rendering\n        if (player.supported.ui) {\n            player.embed.disableTextTrack();\n        }\n\n        // Create a faux HTML5 API using the Vimeo API\n        player.media.play = () => {\n            assurePlaybackState.call(player, true);\n            return player.embed.play();\n        };\n\n        player.media.pause = () => {\n            assurePlaybackState.call(player, false);\n            return player.embed.pause();\n        };\n\n        player.media.stop = () => {\n            player.pause();\n            player.currentTime = 0;\n        };\n\n        // Seeking\n        let { currentTime } = player.media;\n        Object.defineProperty(player.media, 'currentTime', {\n            get() {\n                return currentTime;\n            },\n            set(time) {\n                // Vimeo will automatically play on seek if the video hasn't been played before\n\n                // Get current paused state and volume etc\n                const { embed, media, paused, volume } = player;\n                const restorePause = paused && !embed.hasPlayed;\n\n                // Set seeking state and trigger event\n                media.seeking = true;\n                triggerEvent.call(player, media, 'seeking');\n\n                // If paused, mute until seek is complete\n                Promise.resolve(restorePause && embed.setVolume(0))\n                    // Seek\n                    .then(() => embed.setCurrentTime(time))\n                    // Restore paused\n                    .then(() => restorePause && embed.pause())\n                    // Restore volume\n                    .then(() => restorePause && embed.setVolume(volume))\n                    .catch(() => {\n                        // Do nothing\n                    });\n            },\n        });\n\n        // Playback speed\n        let speed = player.config.speed.selected;\n        Object.defineProperty(player.media, 'playbackRate', {\n            get() {\n                return speed;\n            },\n            set(input) {\n                player.embed\n                    .setPlaybackRate(input)\n                    .then(() => {\n                        speed = input;\n                        triggerEvent.call(player, player.media, 'ratechange');\n                    })\n                    .catch(error => {\n                        // Hide menu item (and menu if empty)\n                        if (error.name === 'Error') {\n                            controls.setSpeedMenu.call(player, []);\n                        }\n                    });\n            },\n        });\n\n        // Volume\n        let { volume } = player.config;\n        Object.defineProperty(player.media, 'volume', {\n            get() {\n                return volume;\n            },\n            set(input) {\n                player.embed.setVolume(input).then(() => {\n                    volume = input;\n                    triggerEvent.call(player, player.media, 'volumechange');\n                });\n            },\n        });\n\n        // Muted\n        let { muted } = player.config;\n        Object.defineProperty(player.media, 'muted', {\n            get() {\n                return muted;\n            },\n            set(input) {\n                const toggle = is.boolean(input) ? input : false;\n\n                player.embed.setVolume(toggle ? 0 : player.config.volume).then(() => {\n                    muted = toggle;\n                    triggerEvent.call(player, player.media, 'volumechange');\n                });\n            },\n        });\n\n        // Loop\n        let { loop } = player.config;\n        Object.defineProperty(player.media, 'loop', {\n            get() {\n                return loop;\n            },\n            set(input) {\n                const toggle = is.boolean(input) ? input : player.config.loop.active;\n\n                player.embed.setLoop(toggle).then(() => {\n                    loop = toggle;\n                });\n            },\n        });\n\n        // Source\n        let currentSrc;\n        player.embed\n            .getVideoUrl()\n            .then(value => {\n                currentSrc = value;\n            })\n            .catch(error => {\n                this.debug.warn(error);\n            });\n\n        Object.defineProperty(player.media, 'currentSrc', {\n            get() {\n                return currentSrc;\n            },\n        });\n\n        // Ended\n        Object.defineProperty(player.media, 'ended', {\n            get() {\n                return player.currentTime === player.duration;\n            },\n        });\n\n        // Set aspect ratio based on video size\n        Promise.all([player.embed.getVideoWidth(), player.embed.getVideoHeight()]).then(dimensions => {\n            const ratio = getAspectRatio(dimensions[0], dimensions[1]);\n            vimeo.setAspectRatio.call(this, ratio);\n        });\n\n        // Set autopause\n        player.embed.setAutopause(player.config.autopause).then(state => {\n            player.config.autopause = state;\n        });\n\n        // Get title\n        player.embed.getVideoTitle().then(title => {\n            player.config.title = title;\n            ui.setTitle.call(this);\n        });\n\n        // Get current time\n        player.embed.getCurrentTime().then(value => {\n            currentTime = value;\n            triggerEvent.call(player, player.media, 'timeupdate');\n        });\n\n        // Get duration\n        player.embed.getDuration().then(value => {\n            player.media.duration = value;\n            triggerEvent.call(player, player.media, 'durationchange');\n        });\n\n        // Get captions\n        player.embed.getTextTracks().then(tracks => {\n            player.media.textTracks = tracks;\n            captions.setup.call(player);\n        });\n\n        player.embed.on('cuechange', ({ cues = [] }) => {\n            const strippedCues = cues.map(cue => stripHTML(cue.text));\n            captions.updateCues.call(player, strippedCues);\n        });\n\n        player.embed.on('loaded', () => {\n            // Assure state and events are updated on autoplay\n            player.embed.getPaused().then(paused => {\n                assurePlaybackState.call(player, !paused);\n                if (!paused) {\n                    triggerEvent.call(player, player.media, 'playing');\n                }\n            });\n\n            if (is.element(player.embed.element) && player.supported.ui) {\n                const frame = player.embed.element;\n\n                // Fix keyboard focus issues\n                // https://github.com/sampotts/plyr/issues/317\n                frame.setAttribute('tabindex', -1);\n            }\n        });\n\n        player.embed.on('play', () => {\n            assurePlaybackState.call(player, true);\n            triggerEvent.call(player, player.media, 'playing');\n        });\n\n        player.embed.on('pause', () => {\n            assurePlaybackState.call(player, false);\n        });\n\n        player.embed.on('timeupdate', data => {\n            player.media.seeking = false;\n            currentTime = data.seconds;\n            triggerEvent.call(player, player.media, 'timeupdate');\n        });\n\n        player.embed.on('progress', data => {\n            player.media.buffered = data.percent;\n            triggerEvent.call(player, player.media, 'progress');\n\n            // Check all loaded\n            if (parseInt(data.percent, 10) === 1) {\n                triggerEvent.call(player, player.media, 'canplaythrough');\n            }\n\n            // Get duration as if we do it before load, it gives an incorrect value\n            // https://github.com/sampotts/plyr/issues/891\n            player.embed.getDuration().then(value => {\n                if (value !== player.media.duration) {\n                    player.media.duration = value;\n                    triggerEvent.call(player, player.media, 'durationchange');\n                }\n            });\n        });\n\n        player.embed.on('seeked', () => {\n            player.media.seeking = false;\n            triggerEvent.call(player, player.media, 'seeked');\n        });\n\n        player.embed.on('ended', () => {\n            player.media.paused = true;\n            triggerEvent.call(player, player.media, 'ended');\n        });\n\n        player.embed.on('error', detail => {\n            player.media.error = detail;\n            triggerEvent.call(player, player.media, 'error');\n        });\n\n        // Rebuild UI\n        setTimeout(() => ui.build.call(player), 0);\n    },\n};\n\nexport default vimeo;\n","// ==========================================================================\n// YouTube plugin\n// ==========================================================================\n\nimport controls from './../controls';\nimport ui from './../ui';\nimport { dedupe } from './../utils/arrays';\nimport { createElement, replaceElement, toggleClass } from './../utils/elements';\nimport { triggerEvent } from './../utils/events';\nimport fetch from './../utils/fetch';\nimport is from './../utils/is';\nimport loadImage from './../utils/loadImage';\nimport loadScript from './../utils/loadScript';\nimport { format, generateId } from './../utils/strings';\n\n// Parse YouTube ID from URL\nfunction parseId(url) {\n    if (is.empty(url)) {\n        return null;\n    }\n\n    const regex = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/;\n    return url.match(regex) ? RegExp.$2 : url;\n}\n\n// Standardise YouTube quality unit\nfunction mapQualityUnit(input) {\n    const qualities = {\n        hd2160: 2160,\n        hd1440: 1440,\n        hd1080: 1080,\n        hd720: 720,\n        large: 480,\n        medium: 360,\n        small: 240,\n        tiny: 144,\n    };\n\n    const entry = Object.entries(qualities).find(entry => entry.includes(input));\n\n    if (entry) {\n        // Get the match corresponding to the input\n        return entry.find(value => value !== input);\n    }\n\n    return 'default';\n}\n\nfunction mapQualityUnits(levels) {\n    if (is.empty(levels)) {\n        return levels;\n    }\n\n    return dedupe(levels.map(level => mapQualityUnit(level)));\n}\n\n// Set playback state and trigger change (only on actual change)\nfunction assurePlaybackState(play) {\n    if (play && !this.embed.hasPlayed) {\n        this.embed.hasPlayed = true;\n    }\n    if (this.media.paused === play) {\n        this.media.paused = !play;\n        triggerEvent.call(this, this.media, play ? 'play' : 'pause');\n    }\n}\n\nconst youtube = {\n    setup() {\n        // Add embed class for responsive\n        toggleClass(this.elements.wrapper, this.config.classNames.embed, true);\n\n        // Set aspect ratio\n        youtube.setAspectRatio.call(this);\n\n        // Setup API\n        if (is.object(window.YT) && is.function(window.YT.Player)) {\n            youtube.ready.call(this);\n        } else {\n            // Load the API\n            loadScript(this.config.urls.youtube.sdk).catch(error => {\n                this.debug.warn('YouTube API failed to load', error);\n            });\n\n            // Setup callback for the API\n            // YouTube has it's own system of course...\n            window.onYouTubeReadyCallbacks = window.onYouTubeReadyCallbacks || [];\n\n            // Add to queue\n            window.onYouTubeReadyCallbacks.push(() => {\n                youtube.ready.call(this);\n            });\n\n            // Set callback to process queue\n            window.onYouTubeIframeAPIReady = () => {\n                window.onYouTubeReadyCallbacks.forEach(callback => {\n                    callback();\n                });\n            };\n        }\n    },\n\n    // Get the media title\n    getTitle(videoId) {\n        // Try via undocumented API method first\n        // This method disappears now and then though...\n        // https://github.com/sampotts/plyr/issues/709\n        if (is.function(this.embed.getVideoData)) {\n            const { title } = this.embed.getVideoData();\n\n            if (is.empty(title)) {\n                this.config.title = title;\n                ui.setTitle.call(this);\n                return;\n            }\n        }\n\n        // Or via Google API\n        const key = this.config.keys.google;\n        if (is.string(key) && !is.empty(key)) {\n            const url = format(this.config.urls.youtube.api, videoId, key);\n\n            fetch(url)\n                .then(result => {\n                    if (is.object(result)) {\n                        this.config.title = result.items[0].snippet.title;\n                        ui.setTitle.call(this);\n                    }\n                })\n                .catch(() => {});\n        }\n    },\n\n    // Set aspect ratio\n    setAspectRatio() {\n        const ratio = this.config.ratio.split(':');\n        this.elements.wrapper.style.paddingBottom = `${100 / ratio[0] * ratio[1]}%`;\n    },\n\n    // API ready\n    ready() {\n        const player = this;\n\n        // Ignore already setup (race condition)\n        const currentId = player.media.getAttribute('id');\n        if (!is.empty(currentId) && currentId.startsWith('youtube-')) {\n            return;\n        }\n\n        // Get the source URL or ID\n        let source = player.media.getAttribute('src');\n\n        // Get from <div> if needed\n        if (is.empty(source)) {\n            source = player.media.getAttribute(this.config.attributes.embed.id);\n        }\n\n        // Replace the <iframe> with a <div> due to YouTube API issues\n        const videoId = parseId(source);\n        const id = generateId(player.provider);\n\n        // Get poster, if already set\n        const { poster } = player;\n\n        // Replace media element\n        const container = createElement('div', { id, poster });\n        player.media = replaceElement(container, player.media);\n\n        // Id to poster wrapper\n        const posterSrc = format => `https://img.youtube.com/vi/${videoId}/${format}default.jpg`;\n\n        // Check thumbnail images in order of quality, but reject fallback thumbnails (120px wide)\n        loadImage(posterSrc('maxres'), 121) // Higest quality and unpadded\n            .catch(() => loadImage(posterSrc('sd'), 121)) // 480p padded 4:3\n            .catch(() => loadImage(posterSrc('hq'))) // 360p padded 4:3. Always exists\n            .then(image => ui.setPoster.call(player, image.src))\n            .then(posterSrc => {\n                // If the image is padded, use background-size \"cover\" instead (like youtube does too with their posters)\n                if (!posterSrc.includes('maxres')) {\n                    player.elements.poster.style.backgroundSize = 'cover';\n                }\n            })\n            .catch(() => {});\n\n        // Setup instance\n        // https://developers.google.com/youtube/iframe_api_reference\n        player.embed = new window.YT.Player(id, {\n            videoId,\n            playerVars: {\n                autoplay: player.config.autoplay ? 1 : 0, // Autoplay\n                controls: player.supported.ui ? 0 : 1, // Only show controls if not fully supported\n                rel: 0, // No related vids\n                showinfo: 0, // Hide info\n                iv_load_policy: 3, // Hide annotations\n                modestbranding: 1, // Hide logos as much as possible (they still show one in the corner when paused)\n                disablekb: 1, // Disable keyboard as we handle it\n                playsinline: 1, // Allow iOS inline playback\n\n                // Tracking for stats\n                // origin: window ? `${window.location.protocol}//${window.location.host}` : null,\n                widget_referrer: window ? window.location.href : null,\n\n                // Captions are flaky on YouTube\n                cc_load_policy: player.captions.active ? 1 : 0,\n                cc_lang_pref: player.config.captions.language,\n            },\n            events: {\n                onError(event) {\n                    // YouTube may fire onError twice, so only handle it once\n                    if (!player.media.error) {\n                        const code = event.data;\n                        // Messages copied from https://developers.google.com/youtube/iframe_api_reference#onError\n                        const message =\n                            {\n                                2: 'The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.',\n                                5: 'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.',\n                                100: 'The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.',\n                                101: 'The owner of the requested video does not allow it to be played in embedded players.',\n                                150: 'The owner of the requested video does not allow it to be played in embedded players.',\n                            }[code] || 'An unknown error occured';\n\n                        player.media.error = { code, message };\n\n                        triggerEvent.call(player, player.media, 'error');\n                    }\n                },\n                onPlaybackQualityChange() {\n                    triggerEvent.call(player, player.media, 'qualitychange', false, {\n                        quality: player.media.quality,\n                    });\n                },\n                onPlaybackRateChange(event) {\n                    // Get the instance\n                    const instance = event.target;\n\n                    // Get current speed\n                    player.media.playbackRate = instance.getPlaybackRate();\n\n                    triggerEvent.call(player, player.media, 'ratechange');\n                },\n                onReady(event) {\n                    // Get the instance\n                    const instance = event.target;\n\n                    // Get the title\n                    youtube.getTitle.call(player, videoId);\n\n                    // Create a faux HTML5 API using the YouTube API\n                    player.media.play = () => {\n                        assurePlaybackState.call(player, true);\n                        instance.playVideo();\n                    };\n\n                    player.media.pause = () => {\n                        assurePlaybackState.call(player, false);\n                        instance.pauseVideo();\n                    };\n\n                    player.media.stop = () => {\n                        instance.stopVideo();\n                    };\n\n                    player.media.duration = instance.getDuration();\n                    player.media.paused = true;\n\n                    // Seeking\n                    player.media.currentTime = 0;\n                    Object.defineProperty(player.media, 'currentTime', {\n                        get() {\n                            return Number(instance.getCurrentTime());\n                        },\n                        set(time) {\n                            // If paused and never played, mute audio preventively (YouTube starts playing on seek if the video hasn't been played yet).\n                            if (player.paused && !player.embed.hasPlayed) {\n                                player.embed.mute();\n                            }\n\n                            // Set seeking state and trigger event\n                            player.media.seeking = true;\n                            triggerEvent.call(player, player.media, 'seeking');\n\n                            // Seek after events sent\n                            instance.seekTo(time);\n                        },\n                    });\n\n                    // Playback speed\n                    Object.defineProperty(player.media, 'playbackRate', {\n                        get() {\n                            return instance.getPlaybackRate();\n                        },\n                        set(input) {\n                            instance.setPlaybackRate(input);\n                        },\n                    });\n\n                    // Quality\n                    Object.defineProperty(player.media, 'quality', {\n                        get() {\n                            return mapQualityUnit(instance.getPlaybackQuality());\n                        },\n                        set(input) {\n                            instance.setPlaybackQuality(mapQualityUnit(input));\n                        },\n                    });\n\n                    // Volume\n                    let { volume } = player.config;\n                    Object.defineProperty(player.media, 'volume', {\n                        get() {\n                            return volume;\n                        },\n                        set(input) {\n                            volume = input;\n                            instance.setVolume(volume * 100);\n                            triggerEvent.call(player, player.media, 'volumechange');\n                        },\n                    });\n\n                    // Muted\n                    let { muted } = player.config;\n                    Object.defineProperty(player.media, 'muted', {\n                        get() {\n                            return muted;\n                        },\n                        set(input) {\n                            const toggle = is.boolean(input) ? input : muted;\n                            muted = toggle;\n                            instance[toggle ? 'mute' : 'unMute']();\n                            triggerEvent.call(player, player.media, 'volumechange');\n                        },\n                    });\n\n                    // Source\n                    Object.defineProperty(player.media, 'currentSrc', {\n                        get() {\n                            return instance.getVideoUrl();\n                        },\n                    });\n\n                    // Ended\n                    Object.defineProperty(player.media, 'ended', {\n                        get() {\n                            return player.currentTime === player.duration;\n                        },\n                    });\n\n                    // Get available speeds\n                    player.options.speed = instance.getAvailablePlaybackRates();\n\n                    // Set the tabindex to avoid focus entering iframe\n                    if (player.supported.ui) {\n                        player.media.setAttribute('tabindex', -1);\n                    }\n\n                    triggerEvent.call(player, player.media, 'timeupdate');\n                    triggerEvent.call(player, player.media, 'durationchange');\n\n                    // Reset timer\n                    clearInterval(player.timers.buffering);\n\n                    // Setup buffering\n                    player.timers.buffering = setInterval(() => {\n                        // Get loaded % from YouTube\n                        player.media.buffered = instance.getVideoLoadedFraction();\n\n                        // Trigger progress only when we actually buffer something\n                        if (player.media.lastBuffered === null || player.media.lastBuffered < player.media.buffered) {\n                            triggerEvent.call(player, player.media, 'progress');\n                        }\n\n                        // Set last buffer point\n                        player.media.lastBuffered = player.media.buffered;\n\n                        // Bail if we're at 100%\n                        if (player.media.buffered === 1) {\n                            clearInterval(player.timers.buffering);\n\n                            // Trigger event\n                            triggerEvent.call(player, player.media, 'canplaythrough');\n                        }\n                    }, 200);\n\n                    // Rebuild UI\n                    setTimeout(() => ui.build.call(player), 50);\n                },\n                onStateChange(event) {\n                    // Get the instance\n                    const instance = event.target;\n\n                    // Reset timer\n                    clearInterval(player.timers.playing);\n\n                    const seeked = player.media.seeking && [1, 2].includes(event.data);\n\n                    if (seeked) {\n                        // Unset seeking and fire seeked event\n                        player.media.seeking = false;\n                        triggerEvent.call(player, player.media, 'seeked');\n                    }\n\n                    // Handle events\n                    // -1   Unstarted\n                    // 0    Ended\n                    // 1    Playing\n                    // 2    Paused\n                    // 3    Buffering\n                    // 5    Video cued\n                    switch (event.data) {\n                        case -1:\n                            // Update scrubber\n                            triggerEvent.call(player, player.media, 'timeupdate');\n\n                            // Get loaded % from YouTube\n                            player.media.buffered = instance.getVideoLoadedFraction();\n                            triggerEvent.call(player, player.media, 'progress');\n\n                            break;\n\n                        case 0:\n                            assurePlaybackState.call(player, false);\n\n                            // YouTube doesn't support loop for a single video, so mimick it.\n                            if (player.media.loop) {\n                                // YouTube needs a call to `stopVideo` before playing again\n                                instance.stopVideo();\n                                instance.playVideo();\n                            } else {\n                                triggerEvent.call(player, player.media, 'ended');\n                            }\n\n                            break;\n\n                        case 1:\n                            // Restore paused state (YouTube starts playing on seek if the video hasn't been played yet)\n                            if (player.media.paused && !player.embed.hasPlayed) {\n                                player.media.pause();\n                            } else {\n                                assurePlaybackState.call(player, true);\n\n                                triggerEvent.call(player, player.media, 'playing');\n\n                                // Poll to get playback progress\n                                player.timers.playing = setInterval(() => {\n                                    triggerEvent.call(player, player.media, 'timeupdate');\n                                }, 50);\n\n                                // Check duration again due to YouTube bug\n                                // https://github.com/sampotts/plyr/issues/374\n                                // https://code.google.com/p/gdata-issues/issues/detail?id=8690\n                                if (player.media.duration !== instance.getDuration()) {\n                                    player.media.duration = instance.getDuration();\n                                    triggerEvent.call(player, player.media, 'durationchange');\n                                }\n\n                                // Get quality\n                                controls.setQualityMenu.call(\n                                    player,\n                                    mapQualityUnits(instance.getAvailableQualityLevels()),\n                                );\n                            }\n\n                            break;\n\n                        case 2:\n                            // Restore audio (YouTube starts playing on seek if the video hasn't been played yet)\n                            if (!player.muted) {\n                                player.embed.unMute();\n                            }\n                            assurePlaybackState.call(player, false);\n\n                            break;\n\n                        default:\n                            break;\n                    }\n\n                    triggerEvent.call(player, player.elements.container, 'statechange', false, {\n                        code: event.data,\n                    });\n                },\n            },\n        });\n    },\n};\n\nexport default youtube;\n","// ==========================================================================\n// Plyr Media\n// ==========================================================================\n\nimport html5 from './html5';\nimport vimeo from './plugins/vimeo';\nimport youtube from './plugins/youtube';\nimport { createElement, toggleClass, wrap } from './utils/elements';\n\nconst media = {\n    // Setup media\n    setup() {\n        // If there's no media, bail\n        if (!this.media) {\n            this.debug.warn('No media element found!');\n            return;\n        }\n\n        // Add type class\n        toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', this.type), true);\n\n        // Add provider class\n        toggleClass(this.elements.container, this.config.classNames.provider.replace('{0}', this.provider), true);\n\n        // Add video class for embeds\n        // This will require changes if audio embeds are added\n        if (this.isEmbed) {\n            toggleClass(this.elements.container, this.config.classNames.type.replace('{0}', 'video'), true);\n        }\n\n        // Inject the player wrapper\n        if (this.isVideo) {\n            // Create the wrapper div\n            this.elements.wrapper = createElement('div', {\n                class: this.config.classNames.video,\n            });\n\n            // Wrap the video in a container\n            wrap(this.media, this.elements.wrapper);\n\n            // Faux poster container\n            this.elements.poster = createElement('div', {\n                class: this.config.classNames.poster,\n            });\n\n            this.elements.wrapper.appendChild(this.elements.poster);\n        }\n\n        if (this.isHTML5) {\n            html5.extend.call(this);\n        } else if (this.isYouTube) {\n            youtube.setup.call(this);\n        } else if (this.isVimeo) {\n            vimeo.setup.call(this);\n        }\n    },\n};\n\nexport default media;\n","// ==========================================================================\n// Advertisement plugin using Google IMA HTML5 SDK\n// Create an account with our ad partner, vi here:\n// https://www.vi.ai/publisher-video-monetization/\n// ==========================================================================\n\n/* global google */\n\nimport i18n from '../i18n';\nimport { createElement } from './../utils/elements';\nimport { triggerEvent } from './../utils/events';\nimport is from './../utils/is';\nimport loadScript from './../utils/loadScript';\nimport { formatTime } from './../utils/time';\nimport { buildUrlParams } from './../utils/urls';\n\nclass Ads {\n    /**\n     * Ads constructor.\n     * @param {object} player\n     * @return {Ads}\n     */\n    constructor(player) {\n        this.player = player;\n        this.publisherId = player.config.ads.publisherId;\n        this.playing = false;\n        this.initialized = false;\n        this.elements = {\n            container: null,\n            displayContainer: null,\n        };\n        this.manager = null;\n        this.loader = null;\n        this.cuePoints = null;\n        this.events = {};\n        this.safetyTimer = null;\n        this.countdownTimer = null;\n\n        // Setup a promise to resolve when the IMA manager is ready\n        this.managerPromise = new Promise((resolve, reject) => {\n            // The ad is loaded and ready\n            this.on('loaded', resolve);\n\n            // Ads failed\n            this.on('error', reject);\n        });\n\n        this.load();\n    }\n\n    get enabled() {\n        return (\n            this.player.isHTML5 && this.player.isVideo && this.player.config.ads.enabled && !is.empty(this.publisherId)\n        );\n    }\n\n    /**\n     * Load the IMA SDK\n     */\n    load() {\n        if (this.enabled) {\n            // Check if the Google IMA3 SDK is loaded or load it ourselves\n            if (!is.object(window.google) || !is.object(window.google.ima)) {\n                loadScript(this.player.config.urls.googleIMA.sdk)\n                    .then(() => {\n                        this.ready();\n                    })\n                    .catch(() => {\n                        // Script failed to load or is blocked\n                        this.trigger('error', new Error('Google IMA SDK failed to load'));\n                    });\n            } else {\n                this.ready();\n            }\n        }\n    }\n\n    /**\n     * Get the ads instance ready\n     */\n    ready() {\n        // Start ticking our safety timer. If the whole advertisement\n        // thing doesn't resolve within our set time; we bail\n        this.startSafetyTimer(12000, 'ready()');\n\n        // Clear the safety timer\n        this.managerPromise.then(() => {\n            this.clearSafetyTimer('onAdsManagerLoaded()');\n        });\n\n        // Set listeners on the Plyr instance\n        this.listeners();\n\n        // Setup the IMA SDK\n        this.setupIMA();\n    }\n\n    // Build the default tag URL\n    get tagUrl() {\n        const params = {\n            AV_PUBLISHERID: '58c25bb0073ef448b1087ad6',\n            AV_CHANNELID: '5a0458dc28a06145e4519d21',\n            AV_URL: location.hostname,\n            cb: Date.now(),\n            AV_WIDTH: 640,\n            AV_HEIGHT: 480,\n            AV_CDIM2: this.publisherId,\n        };\n\n        const base = 'https://go.aniview.com/api/adserver6/vast/';\n\n        return `${base}?${buildUrlParams(params)}`;\n    }\n\n    /**\n     * In order for the SDK to display ads for our video, we need to tell it where to put them,\n     * so here we define our ad container. This div is set up to render on top of the video player.\n     * Using the code below, we tell the SDK to render ads within that div. We also provide a\n     * handle to the content video player - the SDK will poll the current time of our player to\n     * properly place mid-rolls. After we create the ad display container, we initialize it. On\n     * mobile devices, this initialization is done as the result of a user action.\n     */\n    setupIMA() {\n        // Create the container for our advertisements\n        this.elements.container = createElement('div', {\n            class: this.player.config.classNames.ads,\n        });\n        this.player.elements.container.appendChild(this.elements.container);\n\n        // So we can run VPAID2\n        google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);\n\n        // Set language\n        google.ima.settings.setLocale(this.player.config.ads.language);\n\n        // We assume the adContainer is the video container of the plyr element\n        // that will house the ads\n        this.elements.displayContainer = new google.ima.AdDisplayContainer(this.elements.container);\n\n        // Request video ads to be pre-loaded\n        this.requestAds();\n    }\n\n    /**\n     * Request advertisements\n     */\n    requestAds() {\n        const { container } = this.player.elements;\n\n        try {\n            // Create ads loader\n            this.loader = new google.ima.AdsLoader(this.elements.displayContainer);\n\n            // Listen and respond to ads loaded and error events\n            this.loader.addEventListener(\n                google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,\n                event => this.onAdsManagerLoaded(event),\n                false,\n            );\n            this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, error => this.onAdError(error), false);\n\n            // Request video ads\n            const request = new google.ima.AdsRequest();\n            request.adTagUrl = this.tagUrl;\n\n            // Specify the linear and nonlinear slot sizes. This helps the SDK\n            // to select the correct creative if multiple are returned\n            request.linearAdSlotWidth = container.offsetWidth;\n            request.linearAdSlotHeight = container.offsetHeight;\n            request.nonLinearAdSlotWidth = container.offsetWidth;\n            request.nonLinearAdSlotHeight = container.offsetHeight;\n\n            // We only overlay ads as we only support video.\n            request.forceNonLinearFullSlot = false;\n\n            // Mute based on current state\n            request.setAdWillPlayMuted(!this.player.muted);\n\n            this.loader.requestAds(request);\n        } catch (e) {\n            this.onAdError(e);\n        }\n    }\n\n    /**\n     * Update the ad countdown\n     * @param {boolean} start\n     */\n    pollCountdown(start = false) {\n        if (!start) {\n            clearInterval(this.countdownTimer);\n            this.elements.container.removeAttribute('data-badge-text');\n            return;\n        }\n\n        const update = () => {\n            const time = formatTime(Math.max(this.manager.getRemainingTime(), 0));\n            const label = `${i18n.get('advertisement', this.player.config)} - ${time}`;\n            this.elements.container.setAttribute('data-badge-text', label);\n        };\n\n        this.countdownTimer = setInterval(update, 100);\n    }\n\n    /**\n     * This method is called whenever the ads are ready inside the AdDisplayContainer\n     * @param {Event} adsManagerLoadedEvent\n     */\n    onAdsManagerLoaded(event) {\n        // Get the ads manager\n        const settings = new google.ima.AdsRenderingSettings();\n\n        // Tell the SDK to save and restore content video state on our behalf\n        settings.restoreCustomPlaybackStateOnAdBreakComplete = true;\n        settings.enablePreloading = true;\n\n        // The SDK is polling currentTime on the contentPlayback. And needs a duration\n        // so it can determine when to start the mid- and post-roll\n        this.manager = event.getAdsManager(this.player, settings);\n\n        // Get the cue points for any mid-rolls by filtering out the pre- and post-roll\n        this.cuePoints = this.manager.getCuePoints();\n\n        // Add advertisement cue's within the time line if available\n        if (!is.empty(this.cuePoints)) {\n            this.cuePoints.forEach(cuePoint => {\n                if (cuePoint !== 0 && cuePoint !== -1 && cuePoint < this.player.duration) {\n                    const seekElement = this.player.elements.progress;\n\n                    if (is.element(seekElement)) {\n                        const cuePercentage = 100 / this.player.duration * cuePoint;\n                        const cue = createElement('span', {\n                            class: this.player.config.classNames.cues,\n                        });\n\n                        cue.style.left = `${cuePercentage.toString()}%`;\n                        seekElement.appendChild(cue);\n                    }\n                }\n            });\n        }\n\n        // Get skippable state\n        // TODO: Skip button\n        // this.player.debug.warn(this.manager.getAdSkippableState());\n\n        // Set volume to match player\n        this.manager.setVolume(this.player.volume);\n\n        // Add listeners to the required events\n        // Advertisement error events\n        this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, error => this.onAdError(error));\n\n        // Advertisement regular events\n        Object.keys(google.ima.AdEvent.Type).forEach(type => {\n            this.manager.addEventListener(google.ima.AdEvent.Type[type], event => this.onAdEvent(event));\n        });\n\n        // Resolve our adsManager\n        this.trigger('loaded');\n    }\n\n    /**\n     * This is where all the event handling takes place. Retrieve the ad from the event. Some\n     * events (e.g. ALL_ADS_COMPLETED) don't have the ad object associated\n     * https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.AdEvent.Type\n     * @param {Event} event\n     */\n    onAdEvent(event) {\n        const { container } = this.player.elements;\n\n        // Retrieve the ad from the event. Some events (e.g. ALL_ADS_COMPLETED)\n        // don't have ad object associated\n        const ad = event.getAd();\n\n        // Proxy event\n        const dispatchEvent = type => {\n            const event = `ads${type.replace(/_/g, '').toLowerCase()}`;\n            triggerEvent.call(this.player, this.player.media, event);\n        };\n\n        switch (event.type) {\n            case google.ima.AdEvent.Type.LOADED:\n                // This is the first event sent for an ad - it is possible to determine whether the\n                // ad is a video ad or an overlay\n                this.trigger('loaded');\n\n                // Bubble event\n                dispatchEvent(event.type);\n\n                // Start countdown\n                this.pollCountdown(true);\n\n                if (!ad.isLinear()) {\n                    // Position AdDisplayContainer correctly for overlay\n                    ad.width = container.offsetWidth;\n                    ad.height = container.offsetHeight;\n                }\n\n                // console.info('Ad type: ' + event.getAd().getAdPodInfo().getPodIndex());\n                // console.info('Ad time: ' + event.getAd().getAdPodInfo().getTimeOffset());\n                break;\n\n            case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:\n                // All ads for the current videos are done. We can now request new advertisements\n                // in case the video is re-played\n\n                // Fire event\n                dispatchEvent(event.type);\n\n                // TODO: Example for what happens when a next video in a playlist would be loaded.\n                // So here we load a new video when all ads are done.\n                // Then we load new ads within a new adsManager. When the video\n                // Is started - after - the ads are loaded, then we get ads.\n                // You can also easily test cancelling and reloading by running\n                // player.ads.cancel() and player.ads.play from the console I guess.\n                // this.player.source = {\n                //     type: 'video',\n                //     title: 'View From A Blue Moon',\n                //     sources: [{\n                //         src:\n                // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.mp4', type:\n                // 'video/mp4', }], poster:\n                // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.jpg', tracks:\n                // [ { kind: 'captions', label: 'English', srclang: 'en', src:\n                // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.en.vtt',\n                // default: true, }, { kind: 'captions', label: 'French', srclang: 'fr', src:\n                // 'https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-HD.fr.vtt', }, ],\n                // };\n\n                // TODO: So there is still this thing where a video should only be allowed to start\n                // playing when the IMA SDK is ready or has failed\n\n                this.loadAds();\n                break;\n\n            case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:\n                // This event indicates the ad has started - the video player can adjust the UI,\n                // for example display a pause button and remaining time. Fired when content should\n                // be paused. This usually happens right before an ad is about to cover the content\n\n                dispatchEvent(event.type);\n\n                this.pauseContent();\n\n                break;\n\n            case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:\n                // This event indicates the ad has finished - the video player can perform\n                // appropriate UI actions, such as removing the timer for remaining time detection.\n                // Fired when content should be resumed. This usually happens when an ad finishes\n                // or collapses\n\n                dispatchEvent(event.type);\n\n                this.pollCountdown();\n\n                this.resumeContent();\n\n                break;\n\n            case google.ima.AdEvent.Type.STARTED:\n            case google.ima.AdEvent.Type.MIDPOINT:\n            case google.ima.AdEvent.Type.COMPLETE:\n            case google.ima.AdEvent.Type.IMPRESSION:\n            case google.ima.AdEvent.Type.CLICK:\n                dispatchEvent(event.type);\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    /**\n     * Any ad error handling comes through here\n     * @param {Event} event\n     */\n    onAdError(event) {\n        this.cancel();\n        this.player.debug.warn('Ads error', event);\n    }\n\n    /**\n     * Setup hooks for Plyr and window events. This ensures\n     * the mid- and post-roll launch at the correct time. And\n     * resize the advertisement when the player resizes\n     */\n    listeners() {\n        const { container } = this.player.elements;\n        let time;\n\n        // Add listeners to the required events\n        this.player.on('ended', () => {\n            this.loader.contentComplete();\n        });\n\n        this.player.on('seeking', () => {\n            time = this.player.currentTime;\n            return time;\n        });\n\n        this.player.on('seeked', () => {\n            const seekedTime = this.player.currentTime;\n\n            if (is.empty(this.cuePoints)) {\n                return;\n            }\n\n            this.cuePoints.forEach((cuePoint, index) => {\n                if (time < cuePoint && cuePoint < seekedTime) {\n                    this.manager.discardAdBreak();\n                    this.cuePoints.splice(index, 1);\n                }\n            });\n        });\n\n        // Listen to the resizing of the window. And resize ad accordingly\n        // TODO: eventually implement ResizeObserver\n        window.addEventListener('resize', () => {\n            if (this.manager) {\n                this.manager.resize(container.offsetWidth, container.offsetHeight, google.ima.ViewMode.NORMAL);\n            }\n        });\n    }\n\n    /**\n     * Initialize the adsManager and start playing advertisements\n     */\n    play() {\n        const { container } = this.player.elements;\n\n        if (!this.managerPromise) {\n            this.resumeContent();\n        }\n\n        // Play the requested advertisement whenever the adsManager is ready\n        this.managerPromise\n            .then(() => {\n                // Initialize the container. Must be done via a user action on mobile devices\n                this.elements.displayContainer.initialize();\n\n                try {\n                    if (!this.initialized) {\n                        // Initialize the ads manager. Ad rules playlist will start at this time\n                        this.manager.init(container.offsetWidth, container.offsetHeight, google.ima.ViewMode.NORMAL);\n\n                        // Call play to start showing the ad. Single video and overlay ads will\n                        // start at this time; the call will be ignored for ad rules\n                        this.manager.start();\n                    }\n\n                    this.initialized = true;\n                } catch (adError) {\n                    // An error may be thrown if there was a problem with the\n                    // VAST response\n                    this.onAdError(adError);\n                }\n            })\n            .catch(() => {});\n    }\n\n    /**\n     * Resume our video\n     */\n    resumeContent() {\n        // Hide the advertisement container\n        this.elements.container.style.zIndex = '';\n\n        // Ad is stopped\n        this.playing = false;\n\n        // Play our video\n        if (this.player.currentTime < this.player.duration) {\n            this.player.play();\n        }\n    }\n\n    /**\n     * Pause our video\n     */\n    pauseContent() {\n        // Show the advertisement container\n        this.elements.container.style.zIndex = 3;\n\n        // Ad is playing.\n        this.playing = true;\n\n        // Pause our video.\n        this.player.pause();\n    }\n\n    /**\n     * Destroy the adsManager so we can grab new ads after this. If we don't then we're not\n     * allowed to call new ads based on google policies, as they interpret this as an accidental\n     * video requests. https://developers.google.com/interactive-\n     * media-ads/docs/sdks/android/faq#8\n     */\n    cancel() {\n        // Pause our video\n        if (this.initialized) {\n            this.resumeContent();\n        }\n\n        // Tell our instance that we're done for now\n        this.trigger('error');\n\n        // Re-create our adsManager\n        this.loadAds();\n    }\n\n    /**\n     * Re-create our adsManager\n     */\n    loadAds() {\n        // Tell our adsManager to go bye bye\n        this.managerPromise\n            .then(() => {\n                // Destroy our adsManager\n                if (this.manager) {\n                    this.manager.destroy();\n                }\n\n                // Re-set our adsManager promises\n                this.managerPromise = new Promise(resolve => {\n                    this.on('loaded', resolve);\n                    this.player.debug.log(this.manager);\n                });\n\n                // Now request some new advertisements\n                this.requestAds();\n            })\n            .catch(() => {});\n    }\n\n    /**\n     * Handles callbacks after an ad event was invoked\n     * @param {string} event - Event type\n     */\n    trigger(event, ...args) {\n        const handlers = this.events[event];\n\n        if (is.array(handlers)) {\n            handlers.forEach(handler => {\n                if (is.function(handler)) {\n                    handler.apply(this, args);\n                }\n            });\n        }\n    }\n\n    /**\n     * Add event listeners\n     * @param {string} event - Event type\n     * @param {function} callback - Callback for when event occurs\n     * @return {Ads}\n     */\n    on(event, callback) {\n        if (!is.array(this.events[event])) {\n            this.events[event] = [];\n        }\n\n        this.events[event].push(callback);\n\n        return this;\n    }\n\n    /**\n     * Setup a safety timer for when the ad network doesn't respond for whatever reason.\n     * The advertisement has 12 seconds to get its things together. We stop this timer when the\n     * advertisement is playing, or when a user action is required to start, then we clear the\n     * timer on ad ready\n     * @param {number} time\n     * @param {string} from\n     */\n    startSafetyTimer(time, from) {\n        this.player.debug.log(`Safety timer invoked from: ${from}`);\n\n        this.safetyTimer = setTimeout(() => {\n            this.cancel();\n            this.clearSafetyTimer('startSafetyTimer()');\n        }, time);\n    }\n\n    /**\n     * Clear our safety timer(s)\n     * @param {string} from\n     */\n    clearSafetyTimer(from) {\n        if (!is.nullOrUndefined(this.safetyTimer)) {\n            this.player.debug.log(`Safety timer cleared from: ${from}`);\n\n            clearTimeout(this.safetyTimer);\n            this.safetyTimer = null;\n        }\n    }\n}\n\nexport default Ads;\n","// ==========================================================================\n// Plyr source update\n// ==========================================================================\n\nimport { providers } from './config/types';\nimport html5 from './html5';\nimport media from './media';\nimport support from './support';\nimport ui from './ui';\nimport { createElement, insertElement, removeElement } from './utils/elements';\nimport is from './utils/is';\nimport { getDeep } from './utils/objects';\n\nconst source = {\n    // Add elements to HTML5 media (source, tracks, etc)\n    insertElements(type, attributes) {\n        if (is.string(attributes)) {\n            insertElement(type, this.media, {\n                src: attributes,\n            });\n        } else if (is.array(attributes)) {\n            attributes.forEach(attribute => {\n                insertElement(type, this.media, attribute);\n            });\n        }\n    },\n\n    // Update source\n    // Sources are not checked for support so be careful\n    change(input) {\n        if (!getDeep(input, 'sources.length')) {\n            this.debug.warn('Invalid source format');\n            return;\n        }\n\n        // Cancel current network requests\n        html5.cancelRequests.call(this);\n\n        // Destroy instance and re-setup\n        this.destroy.call(\n            this,\n            () => {\n                // Reset quality options\n                this.options.quality = [];\n\n                // Remove elements\n                removeElement(this.media);\n                this.media = null;\n\n                // Reset class name\n                if (is.element(this.elements.container)) {\n                    this.elements.container.removeAttribute('class');\n                }\n\n                // Set the type and provider\n                const { sources, type } = input;\n                const [{ provider = providers.html5, src }] = sources;\n                const tagName = provider === 'html5' ? type : 'div';\n                const attributes = provider === 'html5' ? {} : { src };\n\n                Object.assign(this, {\n                    provider,\n                    type,\n                    // Check for support\n                    supported: support.check(type, provider, this.config.playsinline),\n                    // Create new element\n                    media: createElement(tagName, attributes),\n                });\n\n                // Inject the new element\n                this.elements.container.appendChild(this.media);\n\n                // Autoplay the new source?\n                if (is.boolean(input.autoplay)) {\n                    this.config.autoplay = input.autoplay;\n                }\n\n                // Set attributes for audio and video\n                if (this.isHTML5) {\n                    if (this.config.crossorigin) {\n                        this.media.setAttribute('crossorigin', '');\n                    }\n                    if (this.config.autoplay) {\n                        this.media.setAttribute('autoplay', '');\n                    }\n                    if (!is.empty(input.poster)) {\n                        this.poster = input.poster;\n                    }\n                    if (this.config.loop.active) {\n                        this.media.setAttribute('loop', '');\n                    }\n                    if (this.config.muted) {\n                        this.media.setAttribute('muted', '');\n                    }\n                    if (this.config.playsinline) {\n                        this.media.setAttribute('playsinline', '');\n                    }\n                }\n\n                // Restore class hook\n                ui.addStyleHook.call(this);\n\n                // Set new sources for html5\n                if (this.isHTML5) {\n                    source.insertElements.call(this, 'source', sources);\n                }\n\n                // Set video title\n                this.config.title = input.title;\n\n                // Set up from scratch\n                media.setup.call(this);\n\n                // HTML5 stuff\n                if (this.isHTML5) {\n                    // Setup captions\n                    if ('tracks' in input) {\n                        source.insertElements.call(this, 'track', input.tracks);\n                    }\n\n                    // Load HTML5 sources\n                    this.media.load();\n                }\n\n                // If HTML5 or embed but not fully supported, setupInterface and call ready now\n                if (this.isHTML5 || (this.isEmbed && !this.supported.ui)) {\n                    // Setup interface\n                    ui.build.call(this);\n                }\n\n                // Update the fullscreen support\n                this.fullscreen.update();\n            },\n            true,\n        );\n    },\n};\n\nexport default source;\n","// ==========================================================================\n// Plyr\n// plyr.js v3.3.20\n// https://github.com/sampotts/plyr\n// License: The MIT License (MIT)\n// ==========================================================================\n\nimport captions from './captions';\nimport defaults from './config/defaults';\nimport { getProviderByUrl, providers, types } from './config/types';\nimport Console from './console';\nimport controls from './controls';\nimport Fullscreen from './fullscreen';\nimport Listeners from './listeners';\nimport media from './media';\nimport Ads from './plugins/ads';\nimport source from './source';\nimport Storage from './storage';\nimport support from './support';\nimport ui from './ui';\nimport { closest } from './utils/arrays';\nimport { createElement, hasClass, removeElement, replaceElement, toggleClass, wrap } from './utils/elements';\nimport { off, on, once, triggerEvent, unbindListeners } from './utils/events';\nimport is from './utils/is';\nimport loadSprite from './utils/loadSprite';\nimport { cloneDeep, extend } from './utils/objects';\nimport { parseUrl } from './utils/urls';\n\n// Private properties\n// TODO: Use a WeakMap for private globals\n// const globals = new WeakMap();\n\n// Plyr instance\nclass Plyr {\n    constructor(target, options) {\n        this.timers = {};\n\n        // State\n        this.ready = false;\n        this.loading = false;\n        this.failed = false;\n\n        // Touch device\n        this.touch = support.touch;\n\n        // Set the media element\n        this.media = target;\n\n        // String selector passed\n        if (is.string(this.media)) {\n            this.media = document.querySelectorAll(this.media);\n        }\n\n        // jQuery, NodeList or Array passed, use first element\n        if ((window.jQuery && this.media instanceof jQuery) || is.nodeList(this.media) || is.array(this.media)) {\n            // eslint-disable-next-line\n            this.media = this.media[0];\n        }\n\n        // Set config\n        this.config = extend(\n            {},\n            defaults,\n            Plyr.defaults,\n            options || {},\n            (() => {\n                try {\n                    return JSON.parse(this.media.getAttribute('data-plyr-config'));\n                } catch (e) {\n                    return {};\n                }\n            })(),\n        );\n\n        // Elements cache\n        this.elements = {\n            container: null,\n            buttons: {},\n            display: {},\n            progress: {},\n            inputs: {},\n            settings: {\n                menu: null,\n                panes: {},\n                tabs: {},\n            },\n            captions: null,\n        };\n\n        // Captions\n        this.captions = {\n            active: null,\n            currentTrack: -1,\n            meta: new WeakMap(),\n        };\n\n        // Fullscreen\n        this.fullscreen = {\n            active: false,\n        };\n\n        // Options\n        this.options = {\n            speed: [],\n            quality: [],\n        };\n\n        // Debugging\n        // TODO: move to globals\n        this.debug = new Console(this.config.debug);\n\n        // Log config options and support\n        this.debug.log('Config', this.config);\n        this.debug.log('Support', support);\n\n        // We need an element to setup\n        if (is.nullOrUndefined(this.media) || !is.element(this.media)) {\n            this.debug.error('Setup failed: no suitable element passed');\n            return;\n        }\n\n        // Bail if the element is initialized\n        if (this.media.plyr) {\n            this.debug.warn('Target already setup');\n            return;\n        }\n\n        // Bail if not enabled\n        if (!this.config.enabled) {\n            this.debug.error('Setup failed: disabled by config');\n            return;\n        }\n\n        // Bail if disabled or no basic support\n        // You may want to disable certain UAs etc\n        if (!support.check().api) {\n            this.debug.error('Setup failed: no support');\n            return;\n        }\n\n        // Cache original element state for .destroy()\n        const clone = this.media.cloneNode(true);\n        clone.autoplay = false;\n        this.elements.original = clone;\n\n        // Set media type based on tag or data attribute\n        // Supported: video, audio, vimeo, youtube\n        const type = this.media.tagName.toLowerCase();\n\n        // Embed properties\n        let iframe = null;\n        let url = null;\n\n        // Different setup based on type\n        switch (type) {\n            case 'div':\n                // Find the frame\n                iframe = this.media.querySelector('iframe');\n\n                // <iframe> type\n                if (is.element(iframe)) {\n                    // Detect provider\n                    url = parseUrl(iframe.getAttribute('src'));\n                    this.provider = getProviderByUrl(url.toString());\n\n                    // Rework elements\n                    this.elements.container = this.media;\n                    this.media = iframe;\n\n                    // Reset classname\n                    this.elements.container.className = '';\n\n                    // Get attributes from URL and set config\n                    if (url.searchParams.length) {\n                        const truthy = ['1', 'true'];\n\n                        if (truthy.includes(url.searchParams.get('autoplay'))) {\n                            this.config.autoplay = true;\n                        }\n                        if (truthy.includes(url.searchParams.get('loop'))) {\n                            this.config.loop.active = true;\n                        }\n\n                        // TODO: replace fullscreen.iosNative with this playsinline config option\n                        // YouTube requires the playsinline in the URL\n                        if (this.isYouTube) {\n                            this.config.playsinline = truthy.includes(url.searchParams.get('playsinline'));\n                        } else {\n                            this.config.playsinline = true;\n                        }\n                    }\n                } else {\n                    // <div> with attributes\n                    this.provider = this.media.getAttribute(this.config.attributes.embed.provider);\n\n                    // Remove attribute\n                    this.media.removeAttribute(this.config.attributes.embed.provider);\n                }\n\n                // Unsupported or missing provider\n                if (is.empty(this.provider) || !Object.keys(providers).includes(this.provider)) {\n                    this.debug.error('Setup failed: Invalid provider');\n                    return;\n                }\n\n                // Audio will come later for external providers\n                this.type = types.video;\n\n                break;\n\n            case 'video':\n            case 'audio':\n                this.type = type;\n                this.provider = providers.html5;\n\n                // Get config from attributes\n                if (this.media.hasAttribute('crossorigin')) {\n                    this.config.crossorigin = true;\n                }\n                if (this.media.hasAttribute('autoplay')) {\n                    this.config.autoplay = true;\n                }\n                if (this.media.hasAttribute('playsinline')) {\n                    this.config.playsinline = true;\n                }\n                if (this.media.hasAttribute('muted')) {\n                    this.config.muted = true;\n                }\n                if (this.media.hasAttribute('loop')) {\n                    this.config.loop.active = true;\n                }\n\n                break;\n\n            default:\n                this.debug.error('Setup failed: unsupported type');\n                return;\n        }\n\n        // Check for support again but with type\n        this.supported = support.check(this.type, this.provider, this.config.playsinline);\n\n        // If no support for even API, bail\n        if (!this.supported.api) {\n            this.debug.error('Setup failed: no support');\n            return;\n        }\n\n        this.eventListeners = [];\n\n        // Create listeners\n        this.listeners = new Listeners(this);\n\n        // Setup local storage for user settings\n        this.storage = new Storage(this);\n\n        // Store reference\n        this.media.plyr = this;\n\n        // Wrap media\n        if (!is.element(this.elements.container)) {\n            this.elements.container = createElement('div');\n            wrap(this.media, this.elements.container);\n        }\n\n        // Add style hook\n        ui.addStyleHook.call(this);\n\n        // Setup media\n        media.setup.call(this);\n\n        // Listen for events if debugging\n        if (this.config.debug) {\n            on.call(this, this.elements.container, this.config.events.join(' '), event => {\n                this.debug.log(`event: ${event.type}`);\n            });\n        }\n\n        // Setup interface\n        // If embed but not fully supported, build interface now to avoid flash of controls\n        if (this.isHTML5 || (this.isEmbed && !this.supported.ui)) {\n            ui.build.call(this);\n        }\n\n        // Container listeners\n        this.listeners.container();\n\n        // Global listeners\n        this.listeners.global();\n\n        // Setup fullscreen\n        this.fullscreen = new Fullscreen(this);\n\n        // Setup ads if provided\n        this.ads = new Ads(this);\n\n        // Autoplay if required\n        if (this.config.autoplay) {\n            this.play();\n        }\n    }\n\n    // ---------------------------------------\n    // API\n    // ---------------------------------------\n\n    /**\n     * Types and provider helpers\n     */\n    get isHTML5() {\n        return Boolean(this.provider === providers.html5);\n    }\n    get isEmbed() {\n        return Boolean(this.isYouTube || this.isVimeo);\n    }\n    get isYouTube() {\n        return Boolean(this.provider === providers.youtube);\n    }\n    get isVimeo() {\n        return Boolean(this.provider === providers.vimeo);\n    }\n    get isVideo() {\n        return Boolean(this.type === types.video);\n    }\n    get isAudio() {\n        return Boolean(this.type === types.audio);\n    }\n\n    /**\n     * Play the media, or play the advertisement (if they are not blocked)\n     */\n    play() {\n        if (!is.function(this.media.play)) {\n            return null;\n        }\n\n        // Return the promise (for HTML5)\n        return this.media.play();\n    }\n\n    /**\n     * Pause the media\n     */\n    pause() {\n        if (!this.playing || !is.function(this.media.pause)) {\n            return;\n        }\n\n        this.media.pause();\n    }\n\n    /**\n     * Get playing state\n     */\n    get playing() {\n        return Boolean(this.ready && !this.paused && !this.ended);\n    }\n\n    /**\n     * Get paused state\n     */\n    get paused() {\n        return Boolean(this.media.paused);\n    }\n\n    /**\n     * Get stopped state\n     */\n    get stopped() {\n        return Boolean(this.paused && this.currentTime === 0);\n    }\n\n    /**\n     * Get ended state\n     */\n    get ended() {\n        return Boolean(this.media.ended);\n    }\n\n    /**\n     * Toggle playback based on current status\n     * @param {boolean} input\n     */\n    togglePlay(input) {\n        // Toggle based on current state if nothing passed\n        const toggle = is.boolean(input) ? input : !this.playing;\n\n        if (toggle) {\n            this.play();\n        } else {\n            this.pause();\n        }\n    }\n\n    /**\n     * Stop playback\n     */\n    stop() {\n        if (this.isHTML5) {\n            this.pause();\n            this.restart();\n        } else if (is.function(this.media.stop)) {\n            this.media.stop();\n        }\n    }\n\n    /**\n     * Restart playback\n     */\n    restart() {\n        this.currentTime = 0;\n    }\n\n    /**\n     * Rewind\n     * @param {number} seekTime - how far to rewind in seconds. Defaults to the config.seekTime\n     */\n    rewind(seekTime) {\n        this.currentTime = this.currentTime - (is.number(seekTime) ? seekTime : this.config.seekTime);\n    }\n\n    /**\n     * Fast forward\n     * @param {number} seekTime - how far to fast forward in seconds. Defaults to the config.seekTime\n     */\n    forward(seekTime) {\n        this.currentTime = this.currentTime + (is.number(seekTime) ? seekTime : this.config.seekTime);\n    }\n\n    /**\n     * Seek to a time\n     * @param {number} input - where to seek to in seconds. Defaults to 0 (the start)\n     */\n    set currentTime(input) {\n        // Bail if media duration isn't available yet\n        if (!this.duration) {\n            return;\n        }\n\n        // Validate input\n        const inputIsValid = is.number(input) && input > 0;\n\n        // Set\n        this.media.currentTime = inputIsValid ? Math.min(input, this.duration) : 0;\n\n        // Logging\n        this.debug.log(`Seeking to ${this.currentTime} seconds`);\n    }\n\n    /**\n     * Get current time\n     */\n    get currentTime() {\n        return Number(this.media.currentTime);\n    }\n\n    /**\n     * Get buffered\n     */\n    get buffered() {\n        const { buffered } = this.media;\n\n        // YouTube / Vimeo return a float between 0-1\n        if (is.number(buffered)) {\n            return buffered;\n        }\n\n        // HTML5\n        // TODO: Handle buffered chunks of the media\n        // (i.e. seek to another section buffers only that section)\n        if (buffered && buffered.length && this.duration > 0) {\n            return buffered.end(0) / this.duration;\n        }\n\n        return 0;\n    }\n\n    /**\n     * Get seeking status\n     */\n    get seeking() {\n        return Boolean(this.media.seeking);\n    }\n\n    /**\n     * Get the duration of the current media\n     */\n    get duration() {\n        // Faux duration set via config\n        const fauxDuration = parseFloat(this.config.duration);\n\n        // Media duration can be NaN before the media has loaded\n        const duration = (this.media || {}).duration || 0;\n\n        // If config duration is funky, use regular duration\n        return fauxDuration || duration;\n    }\n\n    /**\n     * Set the player volume\n     * @param {number} value - must be between 0 and 1. Defaults to the value from local storage and config.volume if not set in storage\n     */\n    set volume(value) {\n        let volume = value;\n        const max = 1;\n        const min = 0;\n\n        if (is.string(volume)) {\n            volume = Number(volume);\n        }\n\n        // Load volume from storage if no value specified\n        if (!is.number(volume)) {\n            volume = this.storage.get('volume');\n        }\n\n        // Use config if all else fails\n        if (!is.number(volume)) {\n            ({ volume } = this.config);\n        }\n\n        // Maximum is volumeMax\n        if (volume > max) {\n            volume = max;\n        }\n        // Minimum is volumeMin\n        if (volume < min) {\n            volume = min;\n        }\n\n        // Update config\n        this.config.volume = volume;\n\n        // Set the player volume\n        this.media.volume = volume;\n\n        // If muted, and we're increasing volume manually, reset muted state\n        if (!is.empty(value) && this.muted && volume > 0) {\n            this.muted = false;\n        }\n    }\n\n    /**\n     * Get the current player volume\n     */\n    get volume() {\n        return Number(this.media.volume);\n    }\n\n    /**\n     * Increase volume\n     * @param {boolean} step - How much to decrease by (between 0 and 1)\n     */\n    increaseVolume(step) {\n        const volume = this.media.muted ? 0 : this.volume;\n        this.volume = volume + (is.number(step) ? step : 0);\n    }\n\n    /**\n     * Decrease volume\n     * @param {boolean} step - How much to decrease by (between 0 and 1)\n     */\n    decreaseVolume(step) {\n        this.increaseVolume(-step);\n    }\n\n    /**\n     * Set muted state\n     * @param {boolean} mute\n     */\n    set muted(mute) {\n        let toggle = mute;\n\n        // Load muted state from storage\n        if (!is.boolean(toggle)) {\n            toggle = this.storage.get('muted');\n        }\n\n        // Use config if all else fails\n        if (!is.boolean(toggle)) {\n            toggle = this.config.muted;\n        }\n\n        // Update config\n        this.config.muted = toggle;\n\n        // Set mute on the player\n        this.media.muted = toggle;\n    }\n\n    /**\n     * Get current muted state\n     */\n    get muted() {\n        return Boolean(this.media.muted);\n    }\n\n    /**\n     * Check if the media has audio\n     */\n    get hasAudio() {\n        // Assume yes for all non HTML5 (as we can't tell...)\n        if (!this.isHTML5) {\n            return true;\n        }\n\n        if (this.isAudio) {\n            return true;\n        }\n\n        // Get audio tracks\n        return (\n            Boolean(this.media.mozHasAudio) ||\n            Boolean(this.media.webkitAudioDecodedByteCount) ||\n            Boolean(this.media.audioTracks && this.media.audioTracks.length)\n        );\n    }\n\n    /**\n     * Set playback speed\n     * @param {number} speed - the speed of playback (0.5-2.0)\n     */\n    set speed(input) {\n        let speed = null;\n\n        if (is.number(input)) {\n            speed = input;\n        }\n\n        if (!is.number(speed)) {\n            speed = this.storage.get('speed');\n        }\n\n        if (!is.number(speed)) {\n            speed = this.config.speed.selected;\n        }\n\n        // Set min/max\n        if (speed < 0.1) {\n            speed = 0.1;\n        }\n        if (speed > 2.0) {\n            speed = 2.0;\n        }\n\n        if (!this.config.speed.options.includes(speed)) {\n            this.debug.warn(`Unsupported speed (${speed})`);\n            return;\n        }\n\n        // Update config\n        this.config.speed.selected = speed;\n\n        // Set media speed\n        this.media.playbackRate = speed;\n    }\n\n    /**\n     * Get current playback speed\n     */\n    get speed() {\n        return Number(this.media.playbackRate);\n    }\n\n    /**\n     * Set playback quality\n     * Currently HTML5 & YouTube only\n     * @param {number} input - Quality level\n     */\n    set quality(input) {\n        const config = this.config.quality;\n        const options = this.options.quality;\n\n        if (!options.length) {\n            return;\n        }\n\n        let quality = [\n            !is.empty(input) && Number(input),\n            this.storage.get('quality'),\n            config.selected,\n            config.default,\n        ].find(is.number);\n\n        if (!options.includes(quality)) {\n            const value = closest(options, quality);\n            this.debug.warn(`Unsupported quality option: ${quality}, using ${value} instead`);\n            quality = value;\n        }\n\n        // Trigger request event\n        triggerEvent.call(this, this.media, 'qualityrequested', false, { quality });\n\n        // Update config\n        config.selected = quality;\n\n        // Set quality\n        this.media.quality = quality;\n    }\n\n    /**\n     * Get current quality level\n     */\n    get quality() {\n        return this.media.quality;\n    }\n\n    /**\n     * Toggle loop\n     * TODO: Finish fancy new logic. Set the indicator on load as user may pass loop as config\n     * @param {boolean} input - Whether to loop or not\n     */\n    set loop(input) {\n        const toggle = is.boolean(input) ? input : this.config.loop.active;\n        this.config.loop.active = toggle;\n        this.media.loop = toggle;\n\n        // Set default to be a true toggle\n        /* const type = ['start', 'end', 'all', 'none', 'toggle'].includes(input) ? input : 'toggle';\n\n        switch (type) {\n            case 'start':\n                if (this.config.loop.end && this.config.loop.end <= this.currentTime) {\n                    this.config.loop.end = null;\n                }\n                this.config.loop.start = this.currentTime;\n                // this.config.loop.indicator.start = this.elements.display.played.value;\n                break;\n\n            case 'end':\n                if (this.config.loop.start >= this.currentTime) {\n                    return this;\n                }\n                this.config.loop.end = this.currentTime;\n                // this.config.loop.indicator.end = this.elements.display.played.value;\n                break;\n\n            case 'all':\n                this.config.loop.start = 0;\n                this.config.loop.end = this.duration - 2;\n                this.config.loop.indicator.start = 0;\n                this.config.loop.indicator.end = 100;\n                break;\n\n            case 'toggle':\n                if (this.config.loop.active) {\n                    this.config.loop.start = 0;\n                    this.config.loop.end = null;\n                } else {\n                    this.config.loop.start = 0;\n                    this.config.loop.end = this.duration - 2;\n                }\n                break;\n\n            default:\n                this.config.loop.start = 0;\n                this.config.loop.end = null;\n                break;\n        } */\n    }\n\n    /**\n     * Get current loop state\n     */\n    get loop() {\n        return Boolean(this.media.loop);\n    }\n\n    /**\n     * Set new media source\n     * @param {object} input - The new source object (see docs)\n     */\n    set source(input) {\n        source.change.call(this, input);\n    }\n\n    /**\n     * Get current source\n     */\n    get source() {\n        return this.media.currentSrc;\n    }\n\n    /**\n     * Set the poster image for a video\n     * @param {input} - the URL for the new poster image\n     */\n    set poster(input) {\n        if (!this.isVideo) {\n            this.debug.warn('Poster can only be set for video');\n            return;\n        }\n\n        ui.setPoster.call(this, input, false).catch(() => {});\n    }\n\n    /**\n     * Get the current poster image\n     */\n    get poster() {\n        if (!this.isVideo) {\n            return null;\n        }\n\n        return this.media.getAttribute('poster');\n    }\n\n    /**\n     * Set the autoplay state\n     * @param {boolean} input - Whether to autoplay or not\n     */\n    set autoplay(input) {\n        const toggle = is.boolean(input) ? input : this.config.autoplay;\n        this.config.autoplay = toggle;\n    }\n\n    /**\n     * Get the current autoplay state\n     */\n    get autoplay() {\n        return Boolean(this.config.autoplay);\n    }\n\n    /**\n     * Toggle captions\n     * @param {boolean} input - Whether to enable captions\n     */\n    toggleCaptions(input) {\n        captions.toggle.call(this, input, false);\n    }\n\n    /**\n     * Set the caption track by index\n     * @param {number} - Caption index\n     */\n    set currentTrack(input) {\n        captions.set.call(this, input, false);\n    }\n\n    /**\n     * Get the current caption track index (-1 if disabled)\n     */\n    get currentTrack() {\n        const { toggled, currentTrack } = this.captions;\n        return toggled ? currentTrack : -1;\n    }\n\n    /**\n     * Set the wanted language for captions\n     * Since tracks can be added later it won't update the actual caption track until there is a matching track\n     * @param {string} - Two character ISO language code (e.g. EN, FR, PT, etc)\n     */\n    set language(input) {\n        captions.setLanguage.call(this, input, false);\n    }\n\n    /**\n     * Get the current track's language\n     */\n    get language() {\n        return (captions.getCurrentTrack.call(this) || {}).language;\n    }\n\n    /**\n     * Toggle picture-in-picture playback on WebKit/MacOS\n     * TODO: update player with state, support, enabled\n     * TODO: detect outside changes\n     */\n    set pip(input) {\n        const states = {\n            pip: 'picture-in-picture',\n            inline: 'inline',\n        };\n\n        // Bail if no support\n        if (!support.pip) {\n            return;\n        }\n\n        // Toggle based on current state if not passed\n        const toggle = is.boolean(input) ? input : this.pip === states.inline;\n\n        // Toggle based on current state\n        this.media.webkitSetPresentationMode(toggle ? states.pip : states.inline);\n    }\n\n    /**\n     * Get the current picture-in-picture state\n     */\n    get pip() {\n        if (!support.pip) {\n            return null;\n        }\n\n        return this.media.webkitPresentationMode;\n    }\n\n    /**\n     * Trigger the airplay dialog\n     * TODO: update player with state, support, enabled\n     */\n    airplay() {\n        // Show dialog if supported\n        if (support.airplay) {\n            this.media.webkitShowPlaybackTargetPicker();\n        }\n    }\n\n    /**\n     * Toggle the player controls\n     * @param {boolean} [toggle] - Whether to show the controls\n     */\n    toggleControls(toggle) {\n        // Don't toggle if missing UI support or if it's audio\n        if (this.supported.ui && !this.isAudio) {\n            // Get state before change\n            const isHidden = hasClass(this.elements.container, this.config.classNames.hideControls);\n\n            // Negate the argument if not undefined since adding the class to hides the controls\n            const force = typeof toggle === 'undefined' ? undefined : !toggle;\n\n            // Apply and get updated state\n            const hiding = toggleClass(this.elements.container, this.config.classNames.hideControls, force);\n\n            // Close menu\n            if (hiding && this.config.controls.includes('settings') && !is.empty(this.config.settings)) {\n                controls.toggleMenu.call(this, false);\n            }\n            // Trigger event on change\n            if (hiding !== isHidden) {\n                const eventName = hiding ? 'controlshidden' : 'controlsshown';\n                triggerEvent.call(this, this.media, eventName);\n            }\n            return !hiding;\n        }\n        return false;\n    }\n\n    /**\n     * Add event listeners\n     * @param {string} event - Event type\n     * @param {function} callback - Callback for when event occurs\n     */\n    on(event, callback) {\n        on.call(this, this.elements.container, event, callback);\n    }\n    /**\n     * Add event listeners once\n     * @param {string} event - Event type\n     * @param {function} callback - Callback for when event occurs\n     */\n    once(event, callback) {\n        once.call(this, this.elements.container, event, callback);\n    }\n    /**\n     * Remove event listeners\n     * @param {string} event - Event type\n     * @param {function} callback - Callback for when event occurs\n     */\n    off(event, callback) {\n        off(this.elements.container, event, callback);\n    }\n\n    /**\n     * Destroy an instance\n     * Event listeners are removed when elements are removed\n     * http://stackoverflow.com/questions/12528049/if-a-dom-element-is-removed-are-its-listeners-also-removed-from-memory\n     * @param {function} callback - Callback for when destroy is complete\n     * @param {boolean} soft - Whether it's a soft destroy (for source changes etc)\n     */\n    destroy(callback, soft = false) {\n        if (!this.ready) {\n            return;\n        }\n\n        const done = () => {\n            // Reset overflow (incase destroyed while in fullscreen)\n            document.body.style.overflow = '';\n\n            // GC for embed\n            this.embed = null;\n\n            // If it's a soft destroy, make minimal changes\n            if (soft) {\n                if (Object.keys(this.elements).length) {\n                    // Remove elements\n                    removeElement(this.elements.buttons.play);\n                    removeElement(this.elements.captions);\n                    removeElement(this.elements.controls);\n                    removeElement(this.elements.wrapper);\n\n                    // Clear for GC\n                    this.elements.buttons.play = null;\n                    this.elements.captions = null;\n                    this.elements.controls = null;\n                    this.elements.wrapper = null;\n                }\n\n                // Callback\n                if (is.function(callback)) {\n                    callback();\n                }\n            } else {\n                // Unbind listeners\n                unbindListeners.call(this);\n\n                // Replace the container with the original element provided\n                replaceElement(this.elements.original, this.elements.container);\n\n                // Event\n                triggerEvent.call(this, this.elements.original, 'destroyed', true);\n\n                // Callback\n                if (is.function(callback)) {\n                    callback.call(this.elements.original);\n                }\n\n                // Reset state\n                this.ready = false;\n\n                // Clear for garbage collection\n                setTimeout(() => {\n                    this.elements = null;\n                    this.media = null;\n                }, 200);\n            }\n        };\n\n        // Stop playback\n        this.stop();\n\n        // Provider specific stuff\n        if (this.isHTML5) {\n            // Clear timeout\n            clearTimeout(this.timers.loading);\n\n            // Restore native video controls\n            ui.toggleNativeControls.call(this, true);\n\n            // Clean up\n            done();\n        } else if (this.isYouTube) {\n            // Clear timers\n            clearInterval(this.timers.buffering);\n            clearInterval(this.timers.playing);\n\n            // Destroy YouTube API\n            if (this.embed !== null && is.function(this.embed.destroy)) {\n                this.embed.destroy();\n            }\n\n            // Clean up\n            done();\n        } else if (this.isVimeo) {\n            // Destroy Vimeo API\n            // then clean up (wait, to prevent postmessage errors)\n            if (this.embed !== null) {\n                this.embed.unload().then(done);\n            }\n\n            // Vimeo does not always return\n            setTimeout(done, 200);\n        }\n    }\n\n    /**\n     * Check for support for a mime type (HTML5 only)\n     * @param {string} type - Mime type\n     */\n    supports(type) {\n        return support.mime.call(this, type);\n    }\n\n    /**\n     * Check for support\n     * @param {string} type - Player type (audio/video)\n     * @param {string} provider - Provider (html5/youtube/vimeo)\n     * @param {bool} inline - Where player has `playsinline` sttribute\n     */\n    static supported(type, provider, inline) {\n        return support.check(type, provider, inline);\n    }\n\n    /**\n     * Load an SVG sprite into the page\n     * @param {string} url - URL for the SVG sprite\n     * @param {string} [id] - Unique ID\n     */\n    static loadSprite(url, id) {\n        return loadSprite(url, id);\n    }\n\n    /**\n     * Setup multiple instances\n     * @param {*} selector\n     * @param {object} options\n     */\n    static setup(selector, options = {}) {\n        let targets = null;\n\n        if (is.string(selector)) {\n            targets = Array.from(document.querySelectorAll(selector));\n        } else if (is.nodeList(selector)) {\n            targets = Array.from(selector);\n        } else if (is.array(selector)) {\n            targets = selector.filter(is.element);\n        }\n\n        if (is.empty(targets)) {\n            return null;\n        }\n\n        return targets.map(t => new Plyr(t, options));\n    }\n}\n\nPlyr.defaults = cloneDeep(defaults);\n\nexport default Plyr;\n"]}